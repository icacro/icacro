!function(n){function e(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};e.m=n,e.c=o,e.d=function(n,o,t){e.o(n,o)||Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:t})},e.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(o,"a",o),o},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,o){"use strict";var t=function(){return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,e){var o=[],t=!0,r=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(t=(a=c.next()).done)&&(o.push(a.value),!e||o.length!==e);t=!0);}catch(n){r=!0,i=n}finally{try{!t&&c.return&&c.return()}finally{if(r)throw i}}return o}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=o(1);!function(n){var e={title:"Torsk i ugn med dill- och citronsås",cookTime:"30 MIN | MEDEL",stars:4,img:"/imagevaultfiles/id_122727/cf_259/torsk-i-ugn-med-dill-och-citronsas-v38-2015-719374.jpg",url:"https://www.ica.se/recept/torsk-i-ugn-med-dill-och-citronsas-719374/"},o={},i=window.cro||{notifikationText:"Du har fått en rabatt!",mittIcaRubrik:"Hej!",mittIcaIngress:"Eftersom du tittat på torskrecept tidigare så kanske du är sugen på torsk?",mittIcaText:"I sådana fall vill vi tipsa dig om vår mest populära torsksoppa och ge dig en passande rabatt."},a={addStyles:function(){return"\n      \n      .hse-recipe-list {\n        height: 100%;\n        background-color: #F8EBF3;\n        margin: 0;\n        padding: 0 10px;\n      }\n\n      .hse-recipe-list::after { content: none; }\n\n      .hse-recipe-list__wrapper {\n        height: 100%;\n        align-items: center;\n        background-color: #FFF;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        padding: 15px;\n        position: relative\n      }\n\n      .hse-recipe-list__wrapper::after {\n        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRjhFQkYzO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIuNDk3MDIxLDkuOTg4ODA3YzAsNC4xNDIxNTEsMy4zNTc4NDksNy41MDAwMDEsNy41LDcuNTAwMDAxdi0xNQoJQzUuODU0ODcsMi40ODg4MDcsMi40OTcwMjEsNS44NDY2NTYsMi40OTcwMjEsOS45ODg4MDd6Ii8+Cjwvc3ZnPgo=) space;\n        background-size: 17px 19px;\n        bottom: 0;\n        content: '';\n        display: block;\n        height: 100%;\n        position: absolute;\n        right: 0;\n        top: 0;\n        width: 13px\n      }\n\n      .hse-recipe-list__offer-content h1 {\n        font-size: 1.6rem;\n        line-height: 1.3;\n        margin-bottom: 0\n      }\n\n      @media (min-width:480px) {\n        .hse-recipe-list__offer-content h1 {\n          font-size: 1.8rem\n        }\n      }\n\n      .hse-recipe-list__offer-content span {\n        color: #EB1F07;\n        font-family: icarubrik;\n        font-size: 2.2rem;\n        font-weight: 700\n      }\n\n      .hse-recipe-list__offer-content p {\n        color: #808283;\n        font-size: 1.3rem;\n        line-height: 1;\n        margin-bottom: 0;\n      }\n\n      .hse-recipe-list .coupon-load-wrapper .button--load-coupon {\n        font-size: 12px;\n        align-items: center;\n        background: #F8EBF3;\n        color: #A02971;\n        cursor: pointer;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        line-height: 1.4rem\n      }\n\n      .hse-recipe-list .coupon-load-wrapper .button--onload-coupon {\n        margin: 0 auto;\n        min-width: 0;\n        transition: width .2s 250ms ease, color .1s .2s ease;\n        width: 90px\n      }\n\n      @media (min-width:768px) {\n        .hse-recipe-list .coupon-load-wrapper .button--onload-coupon {\n          width: 115px\n        }\n      }\n\n      @media (min-width:1024px) {\n        .hse-recipe-list .coupon-load-wrapper .button--onload-coupon {\n          width: 150px\n        }\n      }\n\n      .hse-recipe-list .coupon-load-wrapper .button--onload-coupon.loading {\n        color: transparent;\n        height: 40px;\n        margin: 0 auto;\n        position: relative;\n        transition: width 250ms ease, color .1s ease;\n        width: 40px\n      }\n\n      .hse-recipe-list .coupon-load-wrapper .button--onload-coupon.loading .loader {\n        display: inline-block\n      }\n\n      .hse-recipe-list .coupon-load-wrapper .button--onload-coupon .loader {\n        border-width: 4px;\n        display: none;\n        height: 28px;\n        margin-left: -14px;\n        margin-top: -14px;\n        width: 28px\n      }\n\n      .hse-recipe-list.offer-loaded {\n        background-color: #F7F7F7;\n      }\n\n      .hse-recipe-list.offer-loaded .hse-recipe-list__wrapper::after {\n        width: 9px;\n        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRjdGN0Y3O30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIuNDk3MDIxLDkuOTg4ODA3YzAsNC4xNDIxNTEsMy4zNTc4NDksNy41MDAwMDEsNy41LDcuNTAwMDAxdi0xNQoJQzUuODU0ODcsMi40ODg4MDcsMi40OTcwMjEsNS44NDY2NTYsMi40OTcwMjEsOS45ODg4MDd6Ii8+Cjwvc3ZnPgo=) space\n      }\n\n      .hse-recipe-list.offer-loaded .hse-recipe-list__wrapper img {\n        filter: grayscale(1);\n        opacity: .4\n      }\n\n      .hse-recipe-list.offer-loaded .hse-recipe-list__offer-content span {\n        color: #D5D7DA\n      }\n\n      .hse-recipe-list.offer-loaded .coupon-load-wrapper a {\n        background: #DDE9BF;\n        color: #8DB72C;\n        pointer-events: none;\n        transition: width .2s ease, color .2s 250ms ease, background .2s ease\n      }\n      \n      .cro .personal-offer {\n        background-color: #F8EBF3;\n        padding: 15px;\n        margin-bottom: 10px;\n      }\n      .cro .personal-offer * { box-sizing: border-box; }\n\n      .cro .personal-offer__container {\n        background-color: white;\n        display: flex;\n      }\n\n      .cro .personal-offer__message {\n        padding: 15px;\n        width: 50%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n      }\n\n      .cro .personal-offer .toggle-personal-offer {\n        color: #a02971;\n        font-family: icatext;\n        font-weight: 600;\n        width: 100%; display: flex; justify-content: flex-end; cursor: pointer;\n      }\n      .cro .personal-offer .toggle-personal-offer__svg {\n        align-self: flex-end;\n        height: 20px;\n      }\n\n      .cro .personal-offer__toggle-header {\n        display: none;\n        flex-grow: 1;\n        margin: 0;\n      }\n\n      .cro .personal-offer--hidden .personal-offer__container { display: none; }\n      .cro .personal-offer--hidden .personal-offer__toggle-header { display: block; }\n      .cro .personal-offer--hidden .toolbar__icon--indicator { transform: rotateZ(180deg) translateY(2px); }\n\n      .cro .personal-offer .toolbar__icon--indicator { fill: #a02971; }\n\n      .cro .personal-offer__preamble, .cro .personal-offer__preamble--strong { display: block; margin-bottom: 10px; }\n\n      .cro .personal-offer__recipe-and-coupon {\n        display: flex;\n        width: 50%;\n      }\n\n      .cro .personal-offer__coupon { width: 35%; }\n      .cro .personal-offer__recipe { width: 65%; }\n\n      .cro .personal-offer__recipe a { color: #3F3F40; display: flex; flex-direction: column; }\n      .cro .personal-offer__recipe a h4 { color: #808283; }\n\n      .cro .personal-offer__recipe-text {\n        padding: 10px;\n      }\n      .cro .personal-offer__recipe-text h2 { font-size: 2rem; font-weight: bold; margin: 0; line-height: 1; }\n      .cro .personal-offer__recipe-text h4 {\n        padding: 0;\n        font-size: 1.2rem;\n        font-family: icatext;\n        color: #808283;\n        line-height: 1;\n        display: inline-block;\n        margin: 0;\n        vertical-align: middle;\n      }\n      .cro .personal-offer__recipe-text p {\n        line-height: 1.3em;\n        font-size: 12px;\n        display: inline-block;\n        margin: 0 10px 0 0;\n      }\n      .cro .personal-offer__recipe svg .active { fill: #A02971; }\n      .cro .personal-offer__recipe svg {\n        display: inline-block;\n        fill: #D5D7DA;\n        height: 18px;\n        vertical-align: middle;\n        width: 81px;\n      }\n      @media (max-width: 980px) {\n        .cro .dashboard { position: relative; }\n        .cro .dashboard .toolbars-wrapper { position: absolute; top: 0; left: 0;}\n      }\n      @media (max-width: 520px) {\n        .cro .personal-offer__container { flex-direction: column; }\n        .cro .personal-offer__message { width: auto; }\n        .cro .personal-offer__recipe-and-coupon { width: auto; }\n        .cro .personal-offer__coupon { width: 50%; }\n        .cro .personal-offer__recipe { width: 50%; }\n        .cro .hse-recipe-list { padding: 10px 10px 0 0; }\n      }\n\n      /* login frame */\n      @media (max-width: 767px) { .cro .cro-iframe-container { padding-bottom: 135% !important; } }\n      .cro > .cro-iframe-container { display: none; }\n      .cro .modal-copntainer .cro-iframe-container { display: initial; }\n      .cro .container { text-align: center; margin-top: 50px;}\n      .cro .container h2 { font: 28px icahand; margin-bottom: 20px; }\n      .cro .cro-iframe-container {\n        position: relative;\n        height: 0;\n        overflow: hidden;\n        padding-bottom: 85%;\n        background-color: #F3F0EB;\n      }\n      .cro .cro-iframe-container iframe {\n        opacity: 0;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      /* login frame */\n      "},addStars:function(n){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-0.12099626660346985 1.4550001621246338 127.39400121569633 25.34600469470024">\n        <linearGradient id="half" x1="0" x2="100%" y1="0" y2="0">\n        <stop offset="50%" stop-color="currentColor"></stop>\n        <stop offset="50%" stop-color="#d5d7da"></stop>\n        </linearGradient>\n        '+["0","26","52","78","104"].map(function(e,o){return'<g transform="translate('+e+' 0)" class="'+(o<n?"active":"")+'">\n        <path d="M23.2 10.303q.194.509-.073.97-1.188 2.182-5.067 5.479 1.018 4.194 1.212 6.715.049.679-.533 1.067-.315.194-.63.194-.242 0-.533-.121-.412-.242-1.333-.679-3.273-1.624-4.606-2.473-1.333.849-4.606 2.473-.921.436-1.333.679-.606.315-1.164-.073-.582-.388-.533-1.067.194-2.521 1.212-6.715-3.879-3.297-5.067-5.479-.267-.461-.073-.97.17-.509.63-.679 1.358-.606 6.861-.8 1.988-5.77 3.248-7.03.388-.339.824-.339.461 0 .8.339 1.285 1.261 3.273 7.03 5.503.194 6.861.8.461.194.63.679z"></path>\n        </g>'}).join("")+"</svg>"},addRecipe:function(){var n=r.$ELM.create("personal-offer__recipe","a","personal-offer__recipe-image","personal-offer__recipe-text","img","h4","h2","p","div"),o=t(n,8),i=o[0],a=o[1],c=o[2],s=o[3],l=o[4],d=o[5],p=o[6],f=o[7];return l.image(e.img),d.text(e.cookTime),p.text(e.title),f.html(this.addStars(e.stars)),c.append(l),s.appendAll(p,f,d),a.href(e.url),a.appendAll(c,s),i.append(a),i},addCoupon:function(){var n=r.$ELM.create("personal-offer__coupon"),e="/logga-in?returnUrl="+encodeURIComponent(window.location),t=/Handlers/.test(o.Offer.Image.ImageUrl)?o.Offer.Image.ImageUrl:"/Handlers/Image.ashx?w=150&h=150&m=p&bgr=fff&u="+o.Offer.Image.ImageUrl,i='<a href="#" data-url="" data-login-url="'+e+'" class="button button--auto-width button--load-coupon js-loggin-btn">\n      '+(o.Offer.LoadedOnCard?"Kupong laddad":"Ladda kupong")+"\n      </a>",a='<article class="hse-recipe-list '+(o.Offer.LoadedOnCard?"offer-loaded":"")+'">\n        <div class="hse-recipe-list__wrapper">\n          <div class="hse-recipe-list__image">\n            <picture>\n            <img src="'+t+'">\n            </picture>\n          </div>\n          <div class="hse-recipe-list__offer-content">\n            <h1>'+o.Header+"</h1>\n            <span>"+o.Offer.OfferCondition.Conditions[0]+"</span>\n            <p>"+o.Offer.Brand+" "+o.Offer.SizeOrQuantity.Text+'</p>\n            <a href="/kampanj/hse/458288">Mer info</a>\n          </div>\n          <div class="coupon-load-wrapper" data-offerid="'+o.OfferId+'">\n            '+i+"\n          </div>\n        </div>\n      </article>";return n.html(a),n},addToggleButton:function(){var n=r.$ELM.create("toggle-personal-offer","span toggle-personal-offer__text","span toggle-personal-offer__svg"),e=t(n,3),o=e[0],i=e[1],a=e[2];return i.text("Dölj personligt erbjudande"),a.html('\n      <svg class="toolbar__icon toolbar__icon--indicator" viewBox="0 0 32 32" width="20px" height="20px">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/Assets/icons/sprite.svg#arrow-up"></use>\n      </svg>\n      '),o.appendAll(i,a),o},addBlock:function(){var n=r.$ELM.create("personal-offer","personal-offer__container","personal-offer__message","h1 personal-offer__h1","strong personal-offer__preamble--strong","span personal-offer__preamble--strong","personal-offer__recipe-and-coupon"),e=t(n,7),o=e[0],a=e[1],c=e[2],s=e[3],l=e[4],d=e[5],p=e[6],f=r.$ELM.get(".top-bar-display-name").element?" "+r.$ELM.get(".top-bar-display-name").text():"";return s.text("Hej"+f+"!"),l.text(i.mittIcaIngress),d.text(i.mittIcaText),c.appendAll(s,l,d),p.appendAll(this.addCoupon(),this.addRecipe()),a.appendAll(c,p),o.css("pl"),o.append(a),o},manipulateDom:function(){var e=this.addBlock(),t=document.querySelector("#dashboard");t.insertBefore(e.element,t.firstChild),icadatalayer.add("HSE",{HSE:{action:"display",title:o.PageName,hseurl:"/kampanj/hse/458288"}});var r=encodeURIComponent(window.location.href),i=n('<div class="cro-iframe-container"><span class="loader"></span><iframe src="//www.ica.se/logga-in/?returnurl='+r+'" frameborder="0"></iframe></div>');n("body").append(i)},loadCouponData:function(){return o.Offer?Promise.resolve(o):window.fetch("/api/jsonhse/458288",{credentials:"same-origin"}).then(function(n){return n.json()}).then(function(e){o=n().extend({},o,e)})},setActionCookie:function(n){var e=new Date;e.setDate((new Date).getDate()+1),ICA.legacy.setCookie("cro_personalOffer_actionCookie_loadCoupon",n,e)},getActionCookie:function(){var n=ICA.legacy.getCookie("cro_personalOffer_actionCookie_loadCoupon");return n&&ICA.legacy.killCookie("cro_personalOffer_actionCookie_loadCoupon"),+n},loadCouponOnCard:function(){return this.loadCouponData().then(function(){var n={OfferId:parseInt(o.Offer.OfferId,10),CampaignId:parseInt(o.CampaignId,10),StoreId:parseInt(o.StoreId,10),StoreGroupId:parseInt(o.StoreGroupId,10)};return window.fetch("/api/jsonhse/Claimoffer",{credentials:"same-origin",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(n){return n.ok&&icadatalayer.add("HSE",{HSE:{action:"coupon-loaded",name:o.PageName,offer:o.Offer.ProductName,hseurl:"/kampanj/hse/458288"}}),n})})},checkActionCookie:function(){this.getActionCookie()&&this.isLoggedIn()&&this.loadCouponOnCard().then(this.changeOfferStatus)},changeOfferStatus:function(n){n.ok&&((0,r.$ELM)(".hse-recipe-list").css("offer-loaded"),(0,r.$ELM)(".button--load-coupon").text("Kupong laddad"))},loaderIsActive:!1,buttonHandlerPollTimeout:null,showLoader:function(){var e=n(".cro-iframe-container");e.find(".loader").show(),e.find("iframe").css("opacity","0"),this.loaderIsActive=!0},hideLoader:function(){var e=n(".cro-iframe-container");e.find(".loader").hide(),e.find("iframe").css("opacity","1"),this.loaderIsActive=!1},addButtonHandlerPoll:function(){var e=this,o=n(".cro-iframe-container iframe").contents().find(".remodal-wrapper #grey-card-btn, .remodal-wrapper .pink-card-btn");o.length?(o.click(function(){e.showLoader()}),window.clearTimeout(e.buttonHandlerPollTimeout)):e.buttonHandlerPollTimeout=window.setTimeout(e.addButtonHandlerPoll.bind(e),1e3)},addEventListeners:function(){var e=this;n(".personal-offer").on("click",".button--load-coupon",function(n){n.preventDefault(),e.isLoggedIn()?e.loadCouponOnCard().then(e.changeOfferStatus):(icadatalayer.add("HSE",{HSE:{action:"login-mousedown",name:o.PageName,hseurl:"/kampanj/hse/458288"}}),e.setActionCookie(458288),e.createModal())}),n(window).on("message onmessage",function(n){var o=window.location.protocol+"//"+window.location.host;n.originalEvent.origin===o&&/mobilebankid/i.test(n.originalEvent.data)&&e.showLoader()})},getIframeStyles:function(){return'<style type="text/css">\n      @media  (max-width: 767px) {\n        h3.greeting, h3.card-heading { font-size: 18px; }\n        img.card-icon { width: 50px; }\n        .select-card-modal { border: 0; padding: 0; margin: 0; }\n        .remodal-wrapper { padding: 0; }\n      }\n      </style>'},createModal:function(){var e=this;new coreComponents.modal({tpl:n(".cro-iframe-container").get(0),size:"md",container:n(".modal-container").get(0)});setTimeout(function(){e.showLoader();n(".cro-iframe-container iframe").on("load",function(){if(new RegExp("^"+window.location.href+"$","gi").test(this.contentWindow.location)&&window.location.reload(!0),-1!==this.contentWindow.location.href.indexOf("logga-in")){var o=function e(){var o=n(".cro-iframe-container iframe").contents().find(".header-bar");o.length?(o.hide(),window.clearTimeout(a),d.resolve()):a=window.setTimeout(e,0)},t=function e(){var o=n(".cro-iframe-container iframe").contents().find("h1");o.length?(o.append(" för ladda kupongen"),o.css({"font-family":"icahand, arial, sans-serif","font-size":"3rem"}),window.screen.width<768&&(o.css("font-size","18px"),o.parent().css("margin","0")),window.clearTimeout(c),p.resolve()):c=window.setTimeout(e,0)},r=function o(){var t=n(".cro-iframe-container iframe").contents().find("body");t.length?(t.append(e.getIframeStyles()),window.clearTimeout(s),f.resolve()):s=window.setTimeout(o,0)},i=function e(){var o=n(".cro-iframe-container iframe").contents();if(o.length){var t="Spara recept från startsidan";o.find("#submit-login-mobile-bank-id").on("click",function(){ga("send","event","A/B",t,"Logga in - Mobilt BankId")}),o.find(".login-support-bank-id-link").on("click",function(){ga("send","event","A/B",t,"Behöver du hjälp")}),o.find(".get-mobile-bank-id-link").on("click",function(){ga("send","event","A/B",t,"Skapa konto - Mobilt BankId")}),o.find("#log-in-submit").on("click",function(){ga("send","event","A/B",t,"Logga in - Lösenord")}),o.find(".login-support-password-link").on("click",function(){ga("send","event","A/B",t,"Glömt lösenord")}),o.find(".create-account-link").on("click",function(){ga("send","event","A/B",t,"Skapa konto - Lösenord")}),window.clearTimeout(l),u.resolve()}else l=window.setTimeout(e,0)},a=window.setTimeout(o,10),c=window.setTimeout(t,10),s=window.setTimeout(r,10),l=window.setTimeout(i,10),d=n.Deferred(),p=n.Deferred(),f=n.Deferred(),u=n.Deferred();n.when(d,p,f,u).done(function(){e.hideLoader()})}n(".cro-iframe-container iframe").contents().find("form").on("submit",function(){n(this).find("input.error").length||e.showLoader()}),n(".cro-iframe-container iframe").contents().find("#submit-login-mobile-bank-id").on("click",function(){n(this).find("input.error").length||(e.buttonHandlerPollTimeout=setTimeout(e.addButtonHandlerPoll.bind(e),1e3))}),n(".cro-iframe-container iframe").contents().find('a[href*="www.ica.se"]').each(function(){n(this).attr("href",n(this).attr("href").replace("http://","https://"))}).click(function(e){window.location.href=n(this).attr("href"),e.preventDefault()})})},50)},addNotification:function(){var n=this;this.style("\n      .cro .offer-notification {\n        position: fixed;\n        top: 17vh;\n        right: -210px;\n        z-index: 99999;\n        background-color: white;\n        border-radius: 20px;\n        border-bottom-right-radius: 0;\n        border-top-right-radius: 0;\n        font-family: icatext, sans-serif;\n        font-weight: 900;\n        font-size: 13px;\n        text-transform: uppercase;\n        box-shadow: 2px 2px 10px 0px #00000052;\n        transition: right 0.5s;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        line-height: 13px;\n      }\n      .cro .offer-notification.show {\n        right: 0;\n      }\n      .cro .offer-notification span {\n        margin-left: 5px;\n        cursor: pointer;\n      }\n      .cro .offer-notification svg {\n        fill: #a02971;\n        margin-top: 6px;\n        transition: transform 0.5s;\n        pointer-events: none;\n      }\n      .cro .offer-notification.closed svg {\n        transform: rotate(180deg) translateY(3px);\n      }\n      .cro .offer-notification a {\n        display: inline-block;\n        background-color: #F5E9F0;\n        padding: 15px 13px 13px 13px;\n      }\n      ");var e=r.$ELM.create("offer-notification","a","span"),o=t(e,3),a=o[0],c=o[1],s=o[2];s.html('\n        <svg viewBox="0 0 32 32" width="20px" height="20px">\n        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/Assets/icons/sprite.svg#arrow-right"></use>\n        </svg>'),c.href("/mittica"),c.text(i.notifikationText),c.click(function(){return n.gaPush({eventAction:"Personliga erbjudanden",eventLabel:"Notifikation klickad på"})}),a.appendAll(s,c),a.click(function(n){"span"===n.target.nodeName.toLowerCase()&&(a.element.classList.toggle("closed"),a.style({right:a.element.classList.contains("closed")?"-"+c.element.offsetWidth+"px":"0"}))}),r.$ELM.get("body").append(a),this.gaPush({eventAction:"Personliga erbjudanden",eventLabel:"Notifikation visad"}),window.setTimeout(function(){return a.css("show")},1e3)},pageIsInkopslistor:function(){return/^https:\/\/www.ica.se\/mittica\/#:mittica=inkopslistor$/.test(window.location)},pageIsLoginForm:function(){return/^https:\/\/www.ica.se\/logga-in/.test(window.location)&&/inkopslistor/.test(window.location)}};n(document).ready(function(){Object.assign(a,(0,r.ICACRO)()),a.loadCouponData().then(function(){o.LoadedOnCard||(a.pageIsInkopslistor()?(a.style(a.addStyles()),a.manipulateDom(),a.checkActionCookie(),a.addEventListeners()):a.pageIsLoginForm()||a.addNotification())})})}(jQuery)},function(n,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,e){var o=[],t=!0,r=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(t=(a=c.next()).done)&&(o.push(a.value),!e||o.length!==e);t=!0);}catch(n){r=!0,i=n}finally{try{!t&&c.return&&c.return()}finally{if(r)throw i}}return o}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=["body","head","img","style","span","ul","li","input","button","h1","h2","h3","h4","a","p","strong","svg"],i=function(n){return{attr:function(){for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];var i=2===o.length?[].concat(function(n){if(Array.isArray(n)){for(var e=0,o=Array(n.length);e<n.length;e++)o[e]=n[e];return o}return Array.from(n)}(o)):o[0].split(":"),a=t(i,2),c=a[0],s=a[1];return s?(n.setAttribute(c,s),this):n.getAttribute(c)},html:function(e){return e?(n.innerHTML=e,this):n.innerHTML},text:function(e){return e?(n.innerHTML="",n.appendChild(document.createTextNode(e)),this):n.innerHTML},image:function(e){return n.src=e,this},href:function(e){return n.href=e,this},append:function(e){var o=e.nodeType?e:e.element;return n.appendChild(o),this},appendAll:function(){for(var n=arguments.length,e=Array(n),o=0;o<n;o++)e[o]=arguments[o];return e.map(this.append)},css:function(e){return e&&e.split(" ").join(",").split(",").forEach(function(e){return e&&n.classList.add(e.replace(/\./g,"").trim())}),this},style:function(e){return Object.assign(n.style,e),this},click:function(e){n.addEventListener("click",e)},element:n}},a=function(n){return document.querySelector(n)},c=function(n){var e=n.split(" "),o=e.reduce(function(n,e){return r.includes(e)?e:n},"div"),t=e.filter(function(n){return!r.includes(n)}).join();return i(document.createElement(o)).css(t)},s=e.$ELM={create:function(){for(var n=arguments.length,e=Array(n),o=0;o<n;o++)e[o]=arguments[o];return 1===e.length?c(e[0]):e.map(function(n){return c(n)})},build:function(n,e){return function(n,e){var o=c(n);return Object.keys(e).forEach(function(n){var t=o[n];if(t){var r=e[n];r&&r.length&&t(r)}}),o}(n,e)},get:function(n){return"string"==typeof n?i(a(n)):n.map(function(n){return i(a(n))})}};e.ICACRO=function(){return s.get("body").css("cro"),{getElementContentByTagAndAttr:function(n,e,o){var t=document.querySelectorAll(e);return this.toArray(t).reduce(function(e,t){return new RegExp(n).test(t[o])&&e.push(t[o]),e},[])},removeElements:function(n){n.forEach(function(n){var e=document.querySelector(n);e instanceof HTMLElement&&e.parentNode.removeChild(e)})},toArray:function(n){return Array.prototype.slice.call(n)},load:function(){for(var n=arguments.length,e=Array(n),o=0;o<n;o++)e[o]=arguments[o];var r=t(e,2),i=r[0],a=r[1],c=Object.assign({},{method:"get"},a);return fetch(i,c).then(function(n){return n}).catch(function(n){return n})},style:function(n){console.log("Deprecated... use css and require.");var e=s.create("style");e.attr("type","text/css"),e.append(document.createTextNode(n)),s.get("head").append(e)},isLoggedIn:function(){return 1===s.get("#hdnIcaState").attr("value").length},gaPush:function(n){var e=n.eventCategory,o=void 0===e?"A/B":e,t=n.eventAction,r=n.eventLabel;ga&&ga("send","event",o,t,r)}}}}]);