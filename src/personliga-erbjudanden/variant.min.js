/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }(); /* eslint no-inner-declarations: "off" */
/* eslint no-use-before-define: "off" */

// ==UserScript==
// @name         Personliga-erbjudanden
// @path         //./src/personliga-erbjudanden/variant.js
// @namespace    http://tampermonkey.net/
// @version      0.1
// @match        https://www.ica.se/*
// @grant        none
// ==/UserScript==

var _main = __webpack_require__(1);

(function ($) {
  'use strict';

  // if (hj) hj('trigger','variant3');// eslint-disable-line

  var couponId = 458288; // torsk
  var banner = {
    title: 'Torsk i ugn med dill- och citronsås',
    cookTime: '30 MIN | MEDEL',
    stars: 4,
    img: '/imagevaultfiles/id_122727/cf_259/torsk-i-ugn-med-dill-och-citronsas-v38-2015-719374.jpg',
    url: 'https://www.ica.se/recept/torsk-i-ugn-med-dill-och-citronsas-719374/'
  };
  var coupon = {};
  var content = window.cro || {
    notifikationText: 'Du har fått en rabatt!',
    mittIcaRubrik: 'Hej!',
    mittIcaIngress: 'Eftersom du tittat på torskrecept tidigare så kanske du är sugen på torsk?',
    mittIcaText: 'I sådana fall vill vi tipsa dig om vår mest populära torsksoppa och ge dig en passande rabatt.'
  };

  var test = {
    addStyles: function addStyles() {
      var couponCss = '\n      .hse-recipe-list {\n        height: 100%;\n        background-color: #F8EBF3;\n        margin: 0;\n        padding: 0 10px;\n      }\n\n      .hse-recipe-list::after { content: none; }\n\n      .hse-recipe-list__wrapper {\n        height: 100%;\n        align-items: center;\n        background-color: #FFF;\n        display: flex;\n        flex-direction: column;\n        justify-content: space-between;\n        padding: 15px;\n        position: relative\n      }\n\n      .hse-recipe-list__wrapper::after {\n        background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRjhFQkYzO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIuNDk3MDIxLDkuOTg4ODA3YzAsNC4xNDIxNTEsMy4zNTc4NDksNy41MDAwMDEsNy41LDcuNTAwMDAxdi0xNQoJQzUuODU0ODcsMi40ODg4MDcsMi40OTcwMjEsNS44NDY2NTYsMi40OTcwMjEsOS45ODg4MDd6Ii8+Cjwvc3ZnPgo=) space;\n        background-size: 17px 19px;\n        bottom: 0;\n        content: \'\';\n        display: block;\n        height: 100%;\n        position: absolute;\n        right: 0;\n        top: 0;\n        width: 13px\n      }\n\n      .hse-recipe-list__offer-content h1 {\n        font-size: 1.6rem;\n        line-height: 1.3;\n        margin-bottom: 0\n      }\n\n      @media (min-width:480px) {\n        .hse-recipe-list__offer-content h1 {\n          font-size: 1.8rem\n        }\n      }\n\n      .hse-recipe-list__offer-content span {\n        color: #EB1F07;\n        font-family: icarubrik;\n        font-size: 2.2rem;\n        font-weight: 700\n      }\n\n      .hse-recipe-list__offer-content p {\n        color: #808283;\n        font-size: 1.3rem;\n        line-height: 1;\n        margin-bottom: 0;\n      }\n\n      .hse-recipe-list .coupon-load-wrapper .button--load-coupon {\n        font-size: 12px;\n        align-items: center;\n        background: #F8EBF3;\n        color: #A02971;\n        cursor: pointer;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        line-height: 1.4rem\n      }\n\n      .hse-recipe-list .coupon-load-wrapper .button--onload-coupon {\n        margin: 0 auto;\n        min-width: 0;\n        transition: width .2s 250ms ease, color .1s .2s ease;\n        width: 90px\n      }\n\n      @media (min-width:768px) {\n        .hse-recipe-list .coupon-load-wrapper .button--onload-coupon {\n          width: 115px\n        }\n      }\n\n      @media (min-width:1024px) {\n        .hse-recipe-list .coupon-load-wrapper .button--onload-coupon {\n          width: 150px\n        }\n      }\n\n      .hse-recipe-list .coupon-load-wrapper .button--onload-coupon.loading {\n        color: transparent;\n        height: 40px;\n        margin: 0 auto;\n        position: relative;\n        transition: width 250ms ease, color .1s ease;\n        width: 40px\n      }\n\n      .hse-recipe-list .coupon-load-wrapper .button--onload-coupon.loading .loader {\n        display: inline-block\n      }\n\n      .hse-recipe-list .coupon-load-wrapper .button--onload-coupon .loader {\n        border-width: 4px;\n        display: none;\n        height: 28px;\n        margin-left: -14px;\n        margin-top: -14px;\n        width: 28px\n      }\n\n      .hse-recipe-list.offer-loaded .coupon-load-wrapper a {\n        background: #DDE9BF;\n        color: #8DB72C;\n        pointer-events: none;\n        transition: width .2s ease, color .2s 250ms ease, background .2s ease\n      }\n      ';
      var styles = '\n      ' + couponCss + '\n      .cro .personal-offer {\n        background-color: #F8EBF3;\n        padding: 15px;\n        margin-bottom: 10px;\n      }\n      .cro .personal-offer * { box-sizing: border-box; }\n\n      .cro .personal-offer__container {\n        background-color: white;\n        display: flex;\n      }\n\n      .cro .personal-offer__message {\n        padding: 15px;\n        width: 60%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n      }\n\n      .cro .personal-offer .toggle-personal-offer {\n        color: #a02971;\n        font-family: icatext;\n        font-weight: 600;\n        width: 100%; display: flex; justify-content: flex-end; cursor: pointer;\n      }\n      .cro .personal-offer .toggle-personal-offer__svg {\n        align-self: flex-end;\n        height: 20px;\n      }\n\n      .cro .personal-offer__toggle-header {\n        display: none;\n        flex-grow: 1;\n        margin: 0;\n      }\n\n      .cro .personal-offer--hidden .personal-offer__container { display: none; }\n      .cro .personal-offer--hidden .personal-offer__toggle-header { display: block; }\n      .cro .personal-offer--hidden .toolbar__icon--indicator { transform: rotateZ(180deg) translateY(2px); }\n\n      .cro .personal-offer .toolbar__icon--indicator { fill: #a02971; }\n\n      .cro .personal-offer__preamble, .cro .personal-offer__preamble--strong { display: block; margin-bottom: 10px; }\n\n      .cro .personal-offer__recipe-and-coupon {\n        display: flex;\n        width: 40%;\n      }\n\n      .cro .personal-offer__coupon { width: 50%; }\n      .cro .personal-offer__recipe { width: 50%; }\n\n      .cro .personal-offer__recipe a { color: #3F3F40; display: flex; flex-direction: column; }\n      .cro .personal-offer__recipe a h4 { color: #808283; }\n\n      .cro .personal-offer__recipe-text {\n        padding: 10px;\n      }\n      .cro .personal-offer__recipe-text h2 { font-size: 2rem; font-weight: bold; margin: 0; line-height: 1; }\n      .cro .personal-offer__recipe-text h4 {\n        padding: 0;\n        font-size: 1.2rem;\n        font-family: icatext;\n        color: #808283;\n        line-height: 1;\n        display: inline-block;\n        margin: 0;\n        vertical-align: middle;\n      }\n      .cro .personal-offer__recipe-text p {\n        line-height: 1.3em;\n        font-size: 12px;\n        display: inline-block;\n        margin: 0 10px 0 0;\n      }\n      .cro .personal-offer__recipe svg .active { fill: #A02971; }\n      .cro .personal-offer__recipe svg {\n        display: inline-block;\n        fill: #D5D7DA;\n        height: 18px;\n        vertical-align: middle;\n        width: 81px;\n      }\n      @media (max-width: 980px) {\n        .cro .dashboard { position: relative; }\n        .cro .dashboard .toolbars-wrapper { position: absolute; top: 0; left: 0;}\n      }\n      @media (max-width: 520px) {\n        .cro .personal-offer__container { flex-direction: column; }\n        .cro .personal-offer__message { width: auto; }\n        .cro .personal-offer__recipe-and-coupon { width: auto; }\n        .cro .personal-offer__coupon { width: 50%; }\n        .cro .personal-offer__recipe { width: 50%; }\n        .cro .hse-recipe-list { padding: 10px 10px 0 0; }\n      }\n\n      /* login frame */\n      @media (max-width: 767px) { .cro .cro-iframe-container { padding-bottom: 135% !important; } }\n      .cro > .cro-iframe-container { display: none; }\n      .cro .modal-copntainer .cro-iframe-container { display: initial; }\n      .cro .container { text-align: center; margin-top: 50px;}\n      .cro .container h2 { font: 28px icahand; margin-bottom: 20px; }\n      .cro .cro-iframe-container {\n        position: relative;\n        height: 0;\n        overflow: hidden;\n        padding-bottom: 85%;\n        background-color: #F3F0EB;\n      }\n      .cro .cro-iframe-container iframe {\n        opacity: 0;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      }\n      /* login frame */\n      ';
      return styles;
    },
    addStars: function addStars(stars) {
      var arr = ['0', '26', '52', '78', '104'];
      var strs = arr.map(function (x, index) {
        return '<g transform="translate(' + x + ' 0)" class="' + (index < stars ? 'active' : '') + '">\n        <path d="M23.2 10.303q.194.509-.073.97-1.188 2.182-5.067 5.479 1.018 4.194 1.212 6.715.049.679-.533 1.067-.315.194-.63.194-.242 0-.533-.121-.412-.242-1.333-.679-3.273-1.624-4.606-2.473-1.333.849-4.606 2.473-.921.436-1.333.679-.606.315-1.164-.073-.582-.388-.533-1.067.194-2.521 1.212-6.715-3.879-3.297-5.067-5.479-.267-.461-.073-.97.17-.509.63-.679 1.358-.606 6.861-.8 1.988-5.77 3.248-7.03.388-.339.824-.339.461 0 .8.339 1.285 1.261 3.273 7.03 5.503.194 6.861.8.461.194.63.679z"></path>\n        </g>';
      });
      return '<svg xmlns="http://www.w3.org/2000/svg" viewBox="-0.12099626660346985 1.4550001621246338 127.39400121569633 25.34600469470024">\n        <linearGradient id="half" x1="0" x2="100%" y1="0" y2="0">\n        <stop offset="50%" stop-color="currentColor"></stop>\n        <stop offset="50%" stop-color="#d5d7da"></stop>\n        </linearGradient>\n        ' + strs.join('') + '</svg>';
    },
    addRecipe: function addRecipe() {
      var _$ELM$create = _main.$ELM.create('personal-offer__recipe', 'a', 'personal-offer__recipe-image', 'personal-offer__recipe-text', 'img', 'h4', 'h2', 'p', 'div'),
          _$ELM$create2 = _slicedToArray(_$ELM$create, 8),
          container = _$ELM$create2[0],
          link = _$ELM$create2[1],
          imageContainer = _$ELM$create2[2],
          textContainer = _$ELM$create2[3],
          image = _$ELM$create2[4],
          cookTime = _$ELM$create2[5],
          title = _$ELM$create2[6],
          stars = _$ELM$create2[7];

      image.image(banner.img);
      cookTime.text(banner.cookTime);
      title.text(banner.title);
      stars.html(this.addStars(banner.stars));

      imageContainer.append(image);
      textContainer.appendAll(title, stars, cookTime);

      link.href(banner.url);
      link.appendAll(imageContainer, textContainer);

      container.append(link);
      return container;
    },
    addCoupon: function addCoupon() {
      var wrapper = _main.$ELM.create('personal-offer__coupon');
      var loginUrl = '/logga-in?returnUrl=' + encodeURIComponent(window.location);
      var imageUrl = /Handlers/.test(coupon.Offer.Image.ImageUrl) ? coupon.Offer.Image.ImageUrl : '/Handlers/Image.ashx?w=150&h=150&m=p&bgr=fff&u=' + coupon.Offer.Image.ImageUrl;
      var kupongCta = '<a href="#" data-url="" data-login-url="' + loginUrl + '" class="button button--auto-width button--load-coupon js-loggin-btn">\n      ' + (coupon.Offer.LoadedOnCard ? 'Kupong laddad' : 'Ladda kupong') + '\n      </a>';
      var kupongTemplate = '<article class="hse-recipe-list ' + (coupon.Offer.LoadedOnCard ? 'offer-loaded' : '') + '">\n        <div class="hse-recipe-list__wrapper">\n          <div class="hse-recipe-list__image">\n            <picture>\n            <img src="' + imageUrl + '">\n            </picture>\n          </div>\n          <div class="hse-recipe-list__offer-content">\n            <h1>' + coupon.Header + '</h1>\n            <span>' + coupon.Offer.OfferCondition.Conditions[0] + '</span>\n            <p>' + coupon.Offer.Brand + ' ' + coupon.Offer.SizeOrQuantity.Text + '</p>\n            <a href="/kampanj/hse/' + couponId + '">Mer info</a>\n          </div>\n          <div class="coupon-load-wrapper" data-offerid="' + coupon.OfferId + '">\n            ' + kupongCta + '\n          </div>\n        </div>\n      </article>';
      wrapper.html(kupongTemplate);
      return wrapper;
    },
    addToggleButton: function addToggleButton() {
      var arrow = '\n      <svg class="toolbar__icon toolbar__icon--indicator" viewBox="0 0 32 32" width="20px" height="20px">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/Assets/icons/sprite.svg#arrow-up"></use>\n      </svg>\n      ';

      var _$ELM$create3 = _main.$ELM.create('toggle-personal-offer', 'span toggle-personal-offer__text', 'span toggle-personal-offer__svg'),
          _$ELM$create4 = _slicedToArray(_$ELM$create3, 3),
          toggle = _$ELM$create4[0],
          text = _$ELM$create4[1],
          svg = _$ELM$create4[2];

      text.text('Dölj personligt erbjudande');
      svg.html(arrow);
      toggle.appendAll(text, svg);

      return toggle;
    },
    addBlock: function addBlock() {
      var _$ELM$create5 = _main.$ELM.create('personal-offer', 'personal-offer__container', 'personal-offer__message', 'h1 personal-offer__h1', 'strong personal-offer__preamble--strong', 'span personal-offer__preamble--strong', 'personal-offer__recipe-and-coupon'),
          _$ELM$create6 = _slicedToArray(_$ELM$create5, 7),
          personalOffer = _$ELM$create6[0],
          container = _$ELM$create6[1],
          messageContainer = _$ELM$create6[2],
          header = _$ELM$create6[3],
          preamble = _$ELM$create6[4],
          body = _$ELM$create6[5],
          recipeAndCoupon = _$ELM$create6[6];

      var namn = _main.$ELM.get('.top-bar-display-name').element ? ' ' + _main.$ELM.get('.top-bar-display-name').text() : '';

      header.text('Hej' + namn + '!');
      preamble.text(content.mittIcaIngress);
      body.text(content.mittIcaText);

      messageContainer.appendAll(header, preamble, body);
      recipeAndCoupon.appendAll(this.addCoupon(), this.addRecipe());
      container.appendAll(messageContainer, recipeAndCoupon);

      personalOffer.css('pl');
      personalOffer.append(container);

      return personalOffer;
    },
    manipulateDom: function manipulateDom() {
      var container = this.addBlock();
      var dashboard = document.querySelector('#dashboard');
      dashboard.insertBefore(container.element, dashboard.firstChild);

      icadatalayer.add('HSE', {
        HSE: {
          action: 'display',
          title: coupon.PageName,
          hseurl: '/kampanj/hse/' + couponId
        }
      });

      var returnUrl = encodeURIComponent(window.location.href);
      var iframeContainer = $('<div class="cro-iframe-container"><span class="loader"></span><iframe src="//www.ica.se/logga-in/?returnurl=' + returnUrl + '" frameborder="0"></iframe></div>');
      $('body').append(iframeContainer);
    },
    loadCouponData: function loadCouponData() {
      return coupon.Offer ? Promise.resolve(coupon) : window.fetch('/api/jsonhse/' + couponId, { credentials: 'same-origin' }).then(function (response) {
        return response.json();
      }).then(function (json) {
        coupon = $().extend({}, coupon, json);
      });
    },
    setActionCookie: function setActionCookie(offerId) {
      var d = new Date();
      d.setDate(new Date().getDate() + 1); // expires tomorrow

      ICA.legacy.setCookie('cro_personalOffer_actionCookie_loadCoupon', offerId, d);
    },
    getActionCookie: function getActionCookie() {
      var actionCookie = ICA.legacy.getCookie('cro_personalOffer_actionCookie_loadCoupon');

      if (actionCookie) {
        ICA.legacy.killCookie('cro_personalOffer_actionCookie_loadCoupon');
      }

      return +actionCookie; // coerce to number
    },
    loadCouponOnCard: function loadCouponOnCard() {
      return this.loadCouponData().then(function () {
        var opts = {
          OfferId: parseInt(coupon.Offer.OfferId, 10),
          CampaignId: parseInt(coupon.CampaignId, 10),
          StoreId: parseInt(coupon.StoreId, 10),
          StoreGroupId: parseInt(coupon.StoreGroupId, 10)
        };

        return window.fetch('/api/jsonhse/Claimoffer', {
          credentials: 'same-origin',
          method: 'POST',
          headers: {
            Accept: 'application/json',
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(opts)
        }).then(function (response) {
          if (response.ok) {
            icadatalayer.add('HSE', {
              HSE: {
                action: 'coupon-loaded',
                name: coupon.PageName,
                offer: coupon.Offer.ProductName,
                hseurl: '/kampanj/hse/' + couponId
              }
            });
          }
          return response;
        });
      });
    },
    checkActionCookie: function checkActionCookie() {
      var id = this.getActionCookie();
      if (id && this.isLoggedIn()) {
        this.loadCouponOnCard().then(this.changeOfferStatus);
      }
    },
    changeOfferStatus: function changeOfferStatus(response) {
      if (response.ok) {
        (0, _main.$ELM)('.hse-recipe-list').css('offer-loaded');
        (0, _main.$ELM)('.button--load-coupon').text('Kupong laddad');
      }
    },

    loaderIsActive: false,
    buttonHandlerPollTimeout: null,
    showLoader: function showLoader() {
      var container = $('.cro-iframe-container');
      container.find('.loader').show();
      container.find('iframe').css('opacity', '0');
      this.loaderIsActive = true;
    },
    hideLoader: function hideLoader() {
      var container = $('.cro-iframe-container');
      container.find('.loader').hide();
      container.find('iframe').css('opacity', '1');
      this.loaderIsActive = false;
    },
    addButtonHandlerPoll: function addButtonHandlerPoll() {
      var self = this;
      var iframe = $('.cro-iframe-container iframe');
      var e = iframe.contents().find('.remodal-wrapper #grey-card-btn, .remodal-wrapper .pink-card-btn');

      if (e.length) {
        e.click(function () {
          self.showLoader();
        });
        window.clearTimeout(self.buttonHandlerPollTimeout);
      } else {
        self.buttonHandlerPollTimeout = window.setTimeout(self.addButtonHandlerPoll.bind(self), 1000);
      }
    },
    addEventListeners: function addEventListeners() {
      var self = this;

      $('.personal-offer').on('click', '.button--load-coupon', function (e) {
        e.preventDefault();

        if (self.isLoggedIn()) {
          self.loadCouponOnCard().then(self.changeOfferStatus);
        } else {
          icadatalayer.add('HSE', {
            HSE: {
              action: 'login-mousedown',
              name: coupon.PageName,
              hseurl: '/kampanj/hse/' + couponId
            }
          });
          self.setActionCookie(couponId);
          self.createModal();
        }
      });

      $(window).on('message onmessage', function (e) {
        var origin = window.location.protocol + '//' + window.location.host;
        if (e.originalEvent.origin === origin && /mobilebankid/i.test(e.originalEvent.data)) {
          self.showLoader();
        }
      });
    },
    getIframeStyles: function getIframeStyles() {
      var styles = '<style type="text/css">\n      @media  (max-width: 767px) {\n        h3.greeting, h3.card-heading { font-size: 18px; }\n        img.card-icon { width: 50px; }\n        .select-card-modal { border: 0; padding: 0; margin: 0; }\n        .remodal-wrapper { padding: 0; }\n      }\n      </style>';
      return styles;
    },
    createModal: function createModal() {
      var self = this;
      var modal = new coreComponents.modal({
        tpl: $('.cro-iframe-container').get(0),
        size: 'md',
        container: $('.modal-container').get(0)
      });

      setTimeout(function () {
        self.showLoader();

        var iframe = $('.cro-iframe-container iframe');

        iframe.on('load', function () {
          var regex = new RegExp('^' + window.location.href + '$', 'gi');
          if (regex.test(this.contentWindow.location)) {
            window.location.reload(true);
          }

          if (this.contentWindow.location.href.indexOf('logga-in') !== -1) {
            var _hideHeaderBar = function _hideHeaderBar() {
              var e = $('.cro-iframe-container iframe').contents().find('.header-bar');
              if (e.length) {
                e.hide();
                window.clearTimeout(headerBarTimeout);
                hideHeaderBarDeferred.resolve();
              } else {
                headerBarTimeout = window.setTimeout(_hideHeaderBar, 0);
              }
            };

            var _appendHeader = function _appendHeader() {
              var e = $('.cro-iframe-container iframe').contents().find('h1');
              if (e.length) {
                e.append(' för ladda kupongen');
                e.css({ 'font-family': 'icahand, arial, sans-serif', 'font-size': '3rem' });

                if (window.screen.width < 768) {
                  e.css('font-size', '18px');
                  e.parent().css('margin', '0');
                }
                window.clearTimeout(appendHeaderTimeout);
                appendHeaderDeferred.resolve();
              } else {
                appendHeaderTimeout = window.setTimeout(_appendHeader, 0);
              }
            };

            var _addStyles = function _addStyles() {
              var e = $('.cro-iframe-container iframe').contents().find('body');
              if (e.length) {
                e.append(self.getIframeStyles());
                window.clearTimeout(addStylesTimeout);
                addStylesDeferred.resolve();
              } else {
                addStylesTimeout = window.setTimeout(_addStyles, 0);
              }
            };

            var _addIframeTracking = function _addIframeTracking() {
              var e = $('.cro-iframe-container iframe').contents();
              if (e.length) {
                var eventAction = 'Spara recept från startsidan';

                // Fortsätt (Mobilt BankId)
                e.find('#submit-login-mobile-bank-id').on('click', function () {
                  ga('send', 'event', 'A/B', eventAction, 'Logga in - Mobilt BankId');
                });

                // Behöver du hjälp (Mobilt BankId)
                e.find('.login-support-bank-id-link').on('click', function () {
                  ga('send', 'event', 'A/B', eventAction, 'Behöver du hjälp');
                });

                // Skapa konto (Mobilt BankId)
                e.find('.get-mobile-bank-id-link').on('click', function () {
                  ga('send', 'event', 'A/B', eventAction, 'Skapa konto - Mobilt BankId');
                });

                // Logga in (Lösenord)
                e.find('#log-in-submit').on('click', function () {
                  ga('send', 'event', 'A/B', eventAction, 'Logga in - Lösenord');
                });

                // Glömt lösenord (Lösenord)
                e.find('.login-support-password-link').on('click', function () {
                  ga('send', 'event', 'A/B', eventAction, 'Glömt lösenord');
                });

                // Skapa konto (Lösenord)
                e.find('.create-account-link').on('click', function () {
                  ga('send', 'event', 'A/B', eventAction, 'Skapa konto - Lösenord');
                });

                window.clearTimeout(addIframeTrackingTimeout);
                addIframeTrackingDeferred.resolve();
              } else {
                addIframeTrackingTimeout = window.setTimeout(_addIframeTracking, 0);
              }
            };

            var headerBarTimeout = window.setTimeout(_hideHeaderBar, 10);
            var appendHeaderTimeout = window.setTimeout(_appendHeader, 10);
            var addStylesTimeout = window.setTimeout(_addStyles, 10);
            var addIframeTrackingTimeout = window.setTimeout(_addIframeTracking, 10);
            var hideHeaderBarDeferred = $.Deferred();
            var appendHeaderDeferred = $.Deferred();
            var addStylesDeferred = $.Deferred();
            var addIframeTrackingDeferred = $.Deferred();

            $.when(hideHeaderBarDeferred, appendHeaderDeferred, addStylesDeferred, addIframeTrackingDeferred).done(function () {
              self.hideLoader();
            });
          }

          $('.cro-iframe-container iframe').contents().find('form').on('submit', function () {
            if (!$(this).find('input.error').length) {
              self.showLoader();
            }
          });

          $('.cro-iframe-container iframe').contents().find('#submit-login-mobile-bank-id').on('click', function () {
            if (!$(this).find('input.error').length) {
              self.buttonHandlerPollTimeout = setTimeout(self.addButtonHandlerPoll.bind(self), 1000);
            }
          });

          $('.cro-iframe-container iframe').contents().find('a[href*="www.ica.se"]').each(function () {
            $(this).attr('href', $(this).attr('href').replace('http://', 'https://'));
          }).click(function (e) {
            window.location.href = $(this).attr('href');
            e.preventDefault();
          });
        });

        // trigga hotjar heatmap första gången modalen öppnats
        // if (typeof hj === 'function' && !self.hotjarTriggered) {
        //     hj('trigger', 'variant');
        //     self.hotjarTriggered = true;
        // }
      }, 50);
    },
    addNotification: function addNotification() {
      var _this = this;

      var css = '\n      .cro .offer-notification {\n        position: fixed;\n        top: 17vh;\n        right: -210px;\n        z-index: 99999;\n        background-color: white;\n        border-radius: 20px;\n        border-bottom-right-radius: 0;\n        border-top-right-radius: 0;\n        font-family: icatext, sans-serif;\n        font-weight: 900;\n        font-size: 13px;\n        text-transform: uppercase;\n        box-shadow: 2px 2px 10px 0px #00000052;\n        transition: right 0.5s;\n        padding: 0;\n        display: flex;\n        align-items: center;\n        line-height: 13px;\n      }\n      .cro .offer-notification.show {\n        right: 0;\n      }\n      .cro .offer-notification span {\n        margin-left: 5px;\n        cursor: pointer;\n      }\n      .cro .offer-notification svg {\n        fill: #a02971;\n        margin-top: 6px;\n        transition: transform 0.5s;\n        pointer-events: none;\n      }\n      .cro .offer-notification.closed svg {\n        transform: rotate(180deg) translateY(3px);\n      }\n      .cro .offer-notification a {\n        display: inline-block;\n        background-color: #F5E9F0;\n        padding: 15px 13px 13px 13px;\n      }\n      ';
      this.style(css);

      var _$ELM$create7 = _main.$ELM.create('offer-notification', 'a', 'span'),
          _$ELM$create8 = _slicedToArray(_$ELM$create7, 3),
          notification = _$ELM$create8[0],
          link = _$ELM$create8[1],
          arrow = _$ELM$create8[2];

      arrow.html('\n        <svg viewBox="0 0 32 32" width="20px" height="20px">\n        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/Assets/icons/sprite.svg#arrow-right"></use>\n        </svg>');
      link.href('/mittica');
      link.text(content.notifikationText);
      link.click(function () {
        return _this.gaPush({
          eventAction: 'Personliga erbjudanden',
          eventLabel: 'Notifikation klickad på'
        });
      });
      notification.appendAll(arrow, link);

      notification.click(function (e) {
        if (e.target.nodeName.toLowerCase() === 'span') {
          notification.element.classList.toggle('closed');
          notification.style({
            right: notification.element.classList.contains('closed') ? '-' + link.element.offsetWidth + 'px' : '0'
          });
        }
      });

      _main.$ELM.get('body').append(notification);

      this.gaPush({
        eventAction: 'Personliga erbjudanden',
        eventLabel: 'Notifikation visad'
      });

      window.setTimeout(function () {
        return notification.css('show');
      }, 1 * 1000);
    },
    pageIsInkopslistor: function pageIsInkopslistor() {
      return (/^https:\/\/www.ica.se\/mittica\/#:mittica=inkopslistor$/.test(window.location)
      );
    },
    pageIsLoginForm: function pageIsLoginForm() {
      return (/^https:\/\/www.ica.se\/logga-in/.test(window.location) && /inkopslistor/.test(window.location)
      );
    }
  };

  $(document).ready(function () {
    Object.assign(test, (0, _main.ICACRO)());
    test.loadCouponData().then(function () {
      if (!coupon.LoadedOnCard) {
        if (test.pageIsInkopslistor()) {
          test.style(test.addStyles());
          test.manipulateDom();
          test.checkActionCookie();
          test.addEventListeners();
        } else if (!test.pageIsLoginForm()) {
          test.addNotification();
        }
      }
    });
  });
})(jQuery);

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

/*
eslint no-param-reassign: [
  "error", { "props": true, "ignorePropertyModificationsFor": ["element"] }
]
*/
/* eslint no-use-before-define: ["error", { "functions": false }] */
/* eslint-env es6 */
var reservedElements = ['div', 'body', 'head', 'img', 'style', 'span', 'ul', 'li', 'input', 'button', 'h1', 'h2', 'h3', 'h4', 'a', 'p', 'strong', 'svg'];
var GetElement = function GetElement(selector) {
  return document.querySelector(selector);
};

var $ELM_ELEMENT = function $ELM_ELEMENT(element) {
  return {
    attr: function attr() {
      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      if (element) {
        var _ref = args.length === 2 ? [].concat(_toConsumableArray(args)) : args[0].split(':'),
            _ref2 = _slicedToArray(_ref, 2),
            attr = _ref2[0],
            value = _ref2[1];

        if (value) {
          element.setAttribute(attr, value);
          return this;
        }
        return element.getAttribute(attr);
      }
      throw new Error(args + ' Element does not exist! Function \'attr\'');
    },
    click: function click(callback) {
      if (element) {
        element.addEventListener('click', callback);
        return this;
      }
      throw new Error(callback + ' Element does not exist! Function \'click\'');
    },
    html: function html(str) {
      if (element) {
        if (!str) return element.innerHTML;
        element.innerHTML = str;
        return this;
      }
      throw new Error(str + ' Element does not exist! Function \'html\'');
    },
    text: function text(str) {
      if (element) {
        if (!str) return element.innerHTML;
        element.innerHTML = '';
        element.appendChild(document.createTextNode(str));
        return this;
      }
      throw new Error(str + ' Element does not exist! Function \'text\'');
    },
    image: function image(src) {
      if (element) {
        element.src = src;
        return this;
      }
      throw new Error(src + ' Element does not exist! Function \'image\'');
    },
    href: function href(url) {
      if (element) {
        element.href = url;
        return this;
      }
      throw new Error(url + ' Element does not exist! Function \'href\'');
    },
    appendFirst: function appendFirst(child) {
      var c = child.nodeType ? child : child.element;
      if (element) {
        element.insertBefore(c, element.childNodes[0]);
        return this;
      }
      throw new Error(child + ' Element does not exist! Function \'append\'');
    },
    append: function append(child) {
      var c = child.nodeType ? child : child.element;
      if (element) {
        element.appendChild(c);
        return this;
      }
      throw new Error(child + ' Element does not exist! Function \'append\'');
    },
    appendAll: function appendAll() {
      for (var _len2 = arguments.length, childs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        childs[_key2] = arguments[_key2];
      }

      return childs.map(this.append);
    },
    css: function css(cn) {
      if (cn) {
        cn.split(' ').join(',').split(',').forEach(function (c) {
          return c && element && element.classList.add(c.replace(/\./g, '').trim());
        });
      }
      return this;
    },
    get: function get() {
      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }

      if (element) {
        if (args.length === 1) return $ELM_ELEMENT(element.querySelector(args[0]));
        return args.map(function (arg) {
          return $ELM_ELEMENT(element.querySelector(arg));
        });
      }
      throw new Error(args + ' Element does not exist! Function \'get\'');
    },
    style: function style(stl) {
      if (element) {
        Object.assign(element.style, stl);
        return this;
      }
      throw new Error(stl + ' Element does not exist! Function \'style\'');
    },
    data: function data(key, value) {
      if (element) {
        element.dataset[key] = value;
        return this;
      }
      throw new Error(key + ' ' + value + ' Element does not exist! Function \'data\'');
    },

    element: element
  };
};

var CreateElement = function CreateElement(arg) {
  if (arg instanceof HTMLElement) return $ELM_ELEMENT(arg);
  var arr = arg.split(' ');
  var type = arr.reduce(function (acc, current) {
    if (reservedElements.includes(current)) {
      return current;
    }
    return acc;
  }, 'div');

  var classNames = arr.filter(function (current) {
    return !reservedElements.includes(current);
  }).join();
  var dom = document.createElement(type);
  return $ELM_ELEMENT(dom).css(classNames);
};

var CreateElementByObject = function CreateElementByObject(type, iterable) {
  var element = CreateElement(type);
  Object.keys(iterable).forEach(function (item) {
    var func = element[item];
    if (func) {
      var value = iterable[item];
      if (value && value.length) {
        func(value);
      }
    }
  });
  return element;
};

var $ELM = exports.$ELM = {
  elms: {},
  create: function create() {
    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
      args[_key4] = arguments[_key4];
    }

    if (args.length === 1) return CreateElement(args[0]);
    return args.map(function (arg) {
      return CreateElement(arg);
    });
  },
  build: function build(type, iterable) {
    return CreateElementByObject(type, iterable);
  },
  get: function get() {
    var _this = this;

    for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
      args[_key5] = arguments[_key5];
    }

    if (args.length === 1) {
      var key = Number.isInteger(parseInt(args[0], 10)) ? parseInt(args[0], 10) : args[0];
      return this.elms[key] || $ELM_ELEMENT(GetElement(key));
    }
    return args.map(function (arg) {
      var key = Number.isInteger(parseInt(arg, 10)) ? parseInt(arg, 10) : arg;
      return _this.elms[key] || $ELM_ELEMENT(GetElement(key));
    });
  },
  save: function save(id, element) {
    this.elms[id] = this.elms[id] || {};
    this.elms[id] = element;
  },
  copy: function copy(selector) {
    var child = GetElement(selector);
    if (child) {
      return CreateElement(child.cloneNode(true));
    }
    throw new Error(selector + ' Element does not exist! Function \'copy\'');
  }
};

var ICACRO = exports.ICACRO = function ICACRO() {
  $ELM.get('body').css('cro');
  return {
    getElementContentByTagAndAttr: function getElementContentByTagAndAttr(regexp, tag, attr) {
      var qsa = document.querySelectorAll(tag);
      return this.toArray(qsa).reduce(function (acc, element) {
        if (new RegExp(regexp).test(element[attr])) {
          acc.push(element[attr]);
        }
        return acc;
      }, []);
    },
    removeElements: function removeElements(classNames) {
      classNames.forEach(function (className) {
        var elm = document.querySelector(className);
        if (elm instanceof HTMLElement) elm.parentNode.removeChild(elm);
      });
    },
    toArray: function toArray(list) {
      return Array.prototype.slice.call(list);
    },
    load: function load() {
      for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
        args[_key6] = arguments[_key6];
      }

      var _args = _slicedToArray(args, 2),
          url = _args[0],
          options = _args[1];

      var ops = Object.assign({}, { method: 'get' }, options);
      return fetch(url, ops).then(function (response) {
        return response.json();
      }).catch(function (err) {
        return err;
      });
    },
    style: function style(styles) {
      console.log('style is deprecated... use css and require.');
      var style = $ELM.create('style');
      style.attr('type', 'text/css');
      style.append(document.createTextNode(styles));
      $ELM.get('head').append(style);
    },
    isLoggedIn: function isLoggedIn() {
      return $ELM.get('#hdnIcaState').attr('value').length > 1;
    },
    gaPush: function gaPush(_ref3) {
      var _ref3$eventCategory = _ref3.eventCategory,
          eventCategory = _ref3$eventCategory === undefined ? 'A/B' : _ref3$eventCategory,
          eventAction = _ref3.eventAction,
          eventLabel = _ref3.eventLabel;

      if (ga) {
        ga('send', 'event', eventCategory, eventAction, eventLabel);
      }
    },
    setCookie: function setCookie(key, value, exp) {
      var date = exp || new Date().setDate(new Date().getDate() + 1);
      console.log(key, value, date);
    }
  };
};

/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYzJmNTU2NGY1MzRjMjM4MzUxNzQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BlcnNvbmxpZ2EtZXJianVkYW5kZW4vdmFyaWFudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbC9tYWluLmpzIl0sIm5hbWVzIjpbIiQiLCJjb3Vwb25JZCIsImJhbm5lciIsInRpdGxlIiwiY29va1RpbWUiLCJzdGFycyIsImltZyIsInVybCIsImNvdXBvbiIsImNvbnRlbnQiLCJ3aW5kb3ciLCJjcm8iLCJub3RpZmlrYXRpb25UZXh0IiwibWl0dEljYVJ1YnJpayIsIm1pdHRJY2FJbmdyZXNzIiwibWl0dEljYVRleHQiLCJ0ZXN0IiwiYWRkU3R5bGVzIiwiY291cG9uQ3NzIiwic3R5bGVzIiwiYWRkU3RhcnMiLCJhcnIiLCJzdHJzIiwibWFwIiwieCIsImluZGV4Iiwiam9pbiIsImFkZFJlY2lwZSIsImNyZWF0ZSIsImNvbnRhaW5lciIsImxpbmsiLCJpbWFnZUNvbnRhaW5lciIsInRleHRDb250YWluZXIiLCJpbWFnZSIsInRleHQiLCJodG1sIiwiYXBwZW5kIiwiYXBwZW5kQWxsIiwiaHJlZiIsImFkZENvdXBvbiIsIndyYXBwZXIiLCJsb2dpblVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsImxvY2F0aW9uIiwiaW1hZ2VVcmwiLCJPZmZlciIsIkltYWdlIiwiSW1hZ2VVcmwiLCJrdXBvbmdDdGEiLCJMb2FkZWRPbkNhcmQiLCJrdXBvbmdUZW1wbGF0ZSIsIkhlYWRlciIsIk9mZmVyQ29uZGl0aW9uIiwiQ29uZGl0aW9ucyIsIkJyYW5kIiwiU2l6ZU9yUXVhbnRpdHkiLCJUZXh0IiwiT2ZmZXJJZCIsImFkZFRvZ2dsZUJ1dHRvbiIsImFycm93IiwidG9nZ2xlIiwic3ZnIiwiYWRkQmxvY2siLCJwZXJzb25hbE9mZmVyIiwibWVzc2FnZUNvbnRhaW5lciIsImhlYWRlciIsInByZWFtYmxlIiwiYm9keSIsInJlY2lwZUFuZENvdXBvbiIsIm5hbW4iLCJnZXQiLCJlbGVtZW50IiwiY3NzIiwibWFuaXB1bGF0ZURvbSIsImRhc2hib2FyZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJpY2FkYXRhbGF5ZXIiLCJhZGQiLCJIU0UiLCJhY3Rpb24iLCJQYWdlTmFtZSIsImhzZXVybCIsInJldHVyblVybCIsImlmcmFtZUNvbnRhaW5lciIsImxvYWRDb3Vwb25EYXRhIiwiUHJvbWlzZSIsInJlc29sdmUiLCJmZXRjaCIsImNyZWRlbnRpYWxzIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsImV4dGVuZCIsInNldEFjdGlvbkNvb2tpZSIsIm9mZmVySWQiLCJkIiwiRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwiSUNBIiwibGVnYWN5Iiwic2V0Q29va2llIiwiZ2V0QWN0aW9uQ29va2llIiwiYWN0aW9uQ29va2llIiwiZ2V0Q29va2llIiwia2lsbENvb2tpZSIsImxvYWRDb3Vwb25PbkNhcmQiLCJvcHRzIiwicGFyc2VJbnQiLCJDYW1wYWlnbklkIiwiU3RvcmVJZCIsIlN0b3JlR3JvdXBJZCIsIm1ldGhvZCIsImhlYWRlcnMiLCJBY2NlcHQiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJuYW1lIiwib2ZmZXIiLCJQcm9kdWN0TmFtZSIsImNoZWNrQWN0aW9uQ29va2llIiwiaWQiLCJpc0xvZ2dlZEluIiwiY2hhbmdlT2ZmZXJTdGF0dXMiLCJsb2FkZXJJc0FjdGl2ZSIsImJ1dHRvbkhhbmRsZXJQb2xsVGltZW91dCIsInNob3dMb2FkZXIiLCJmaW5kIiwic2hvdyIsImhpZGVMb2FkZXIiLCJoaWRlIiwiYWRkQnV0dG9uSGFuZGxlclBvbGwiLCJzZWxmIiwiaWZyYW1lIiwiZSIsImNvbnRlbnRzIiwibGVuZ3RoIiwiY2xpY2siLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYmluZCIsImFkZEV2ZW50TGlzdGVuZXJzIiwib24iLCJwcmV2ZW50RGVmYXVsdCIsImNyZWF0ZU1vZGFsIiwib3JpZ2luIiwicHJvdG9jb2wiLCJob3N0Iiwib3JpZ2luYWxFdmVudCIsImRhdGEiLCJnZXRJZnJhbWVTdHlsZXMiLCJtb2RhbCIsImNvcmVDb21wb25lbnRzIiwidHBsIiwic2l6ZSIsInJlZ2V4IiwiUmVnRXhwIiwiY29udGVudFdpbmRvdyIsInJlbG9hZCIsImluZGV4T2YiLCJoaWRlSGVhZGVyQmFyIiwiaGVhZGVyQmFyVGltZW91dCIsImhpZGVIZWFkZXJCYXJEZWZlcnJlZCIsImFwcGVuZEhlYWRlciIsInNjcmVlbiIsIndpZHRoIiwicGFyZW50IiwiYXBwZW5kSGVhZGVyVGltZW91dCIsImFwcGVuZEhlYWRlckRlZmVycmVkIiwiYWRkU3R5bGVzVGltZW91dCIsImFkZFN0eWxlc0RlZmVycmVkIiwiYWRkSWZyYW1lVHJhY2tpbmciLCJldmVudEFjdGlvbiIsImdhIiwiYWRkSWZyYW1lVHJhY2tpbmdUaW1lb3V0IiwiYWRkSWZyYW1lVHJhY2tpbmdEZWZlcnJlZCIsIkRlZmVycmVkIiwid2hlbiIsImRvbmUiLCJlYWNoIiwiYXR0ciIsInJlcGxhY2UiLCJhZGROb3RpZmljYXRpb24iLCJzdHlsZSIsIm5vdGlmaWNhdGlvbiIsImdhUHVzaCIsImV2ZW50TGFiZWwiLCJ0YXJnZXQiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwiY2xhc3NMaXN0IiwicmlnaHQiLCJjb250YWlucyIsIm9mZnNldFdpZHRoIiwicGFnZUlzSW5rb3BzbGlzdG9yIiwicGFnZUlzTG9naW5Gb3JtIiwicmVhZHkiLCJPYmplY3QiLCJhc3NpZ24iLCJqUXVlcnkiLCJyZXNlcnZlZEVsZW1lbnRzIiwiR2V0RWxlbWVudCIsInNlbGVjdG9yIiwiJEVMTV9FTEVNRU5UIiwiYXJncyIsInNwbGl0IiwidmFsdWUiLCJzZXRBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJFcnJvciIsImNhbGxiYWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0ciIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJzcmMiLCJhcHBlbmRGaXJzdCIsImNoaWxkIiwiYyIsIm5vZGVUeXBlIiwiY2hpbGROb2RlcyIsImNoaWxkcyIsImNuIiwiZm9yRWFjaCIsInRyaW0iLCJhcmciLCJzdGwiLCJrZXkiLCJkYXRhc2V0IiwiQ3JlYXRlRWxlbWVudCIsIkhUTUxFbGVtZW50IiwidHlwZSIsInJlZHVjZSIsImFjYyIsImN1cnJlbnQiLCJpbmNsdWRlcyIsImNsYXNzTmFtZXMiLCJmaWx0ZXIiLCJkb20iLCJjcmVhdGVFbGVtZW50IiwiQ3JlYXRlRWxlbWVudEJ5T2JqZWN0IiwiaXRlcmFibGUiLCJrZXlzIiwiaXRlbSIsImZ1bmMiLCIkRUxNIiwiZWxtcyIsImJ1aWxkIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwic2F2ZSIsImNvcHkiLCJjbG9uZU5vZGUiLCJJQ0FDUk8iLCJnZXRFbGVtZW50Q29udGVudEJ5VGFnQW5kQXR0ciIsInJlZ2V4cCIsInRhZyIsInFzYSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0b0FycmF5IiwicHVzaCIsInJlbW92ZUVsZW1lbnRzIiwiY2xhc3NOYW1lIiwiZWxtIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwibGlzdCIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwibG9hZCIsIm9wdGlvbnMiLCJvcHMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJldmVudENhdGVnb3J5IiwiZXhwIiwiZGF0ZSJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNB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LEVBQVcsT0FBWCxFQUFvQjBHLGFBQXBCLEVBQW1DM0csV0FBbkMsRUFBZ0RjLFVBQWhEO0FBQ0Q7QUFDRixLQXRDSTtBQXVDTHRGLGFBdkNLLHFCQXVDS2dJLEdBdkNMLEVBdUNVdEIsS0F2Q1YsRUF1Q2lCMEUsR0F2Q2pCLEVBdUNzQjtBQUN6QixVQUFNQyxPQUFPRCxPQUFPLElBQUl6TCxJQUFKLEdBQVdDLE9BQVgsQ0FBbUIsSUFBSUQsSUFBSixHQUFXRSxPQUFYLEtBQXVCLENBQTFDLENBQXBCO0FBQ0FvTCxjQUFRQyxHQUFSLENBQVlsRCxHQUFaLEVBQWlCdEIsS0FBakIsRUFBd0IyRSxJQUF4QjtBQUNEO0FBMUNJLEdBQVA7QUE0Q0QsQ0E5Q00sQyIsImZpbGUiOiJ2YXJpYW50Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGMyZjU1NjRmNTM0YzIzODM1MTc0IiwiLyogZXNsaW50IG5vLWlubmVyLWRlY2xhcmF0aW9uczogXCJvZmZcIiAqL1xyXG4vKiBlc2xpbnQgbm8tdXNlLWJlZm9yZS1kZWZpbmU6IFwib2ZmXCIgKi9cclxuXHJcbi8vID09VXNlclNjcmlwdD09XHJcbi8vIEBuYW1lICAgICAgICAgUGVyc29ubGlnYS1lcmJqdWRhbmRlblxyXG4vLyBAcGF0aCAgICAgICAgIC8vLi9zcmMvcGVyc29ubGlnYS1lcmJqdWRhbmRlbi92YXJpYW50LmpzXHJcbi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3RhbXBlcm1vbmtleS5uZXQvXHJcbi8vIEB2ZXJzaW9uICAgICAgMC4xXHJcbi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cuaWNhLnNlLypcclxuLy8gQGdyYW50ICAgICAgICBub25lXHJcbi8vID09L1VzZXJTY3JpcHQ9PVxyXG5cclxuaW1wb3J0IHsgSUNBQ1JPLCAkRUxNIH0gZnJvbSAnLi4vdXRpbC9tYWluJztcclxuXHJcbihmdW5jdGlvbiAoJCkge1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gaWYgKGhqKSBoaigndHJpZ2dlcicsJ3ZhcmlhbnQzJyk7Ly8gZXNsaW50LWRpc2FibGUtbGluZVxyXG4gIGNvbnN0IGNvdXBvbklkID0gNDU4Mjg4OyAvLyB0b3Jza1xyXG4gIGNvbnN0IGJhbm5lciA9IHtcclxuICAgIHRpdGxlOiAnVG9yc2sgaSB1Z24gbWVkIGRpbGwtIG9jaCBjaXRyb25zw6VzJyxcclxuICAgIGNvb2tUaW1lOiAnMzAgTUlOIHwgTUVERUwnLFxyXG4gICAgc3RhcnM6IDQsXHJcbiAgICBpbWc6ICcvaW1hZ2V2YXVsdGZpbGVzL2lkXzEyMjcyNy9jZl8yNTkvdG9yc2staS11Z24tbWVkLWRpbGwtb2NoLWNpdHJvbnNhcy12MzgtMjAxNS03MTkzNzQuanBnJyxcclxuICAgIHVybDogJ2h0dHBzOi8vd3d3LmljYS5zZS9yZWNlcHQvdG9yc2staS11Z24tbWVkLWRpbGwtb2NoLWNpdHJvbnNhcy03MTkzNzQvJyxcclxuICB9O1xyXG4gIGxldCBjb3Vwb24gPSB7fTtcclxuICBjb25zdCBjb250ZW50ID0gd2luZG93LmNybyB8fCB7XHJcbiAgICBub3RpZmlrYXRpb25UZXh0OiAnRHUgaGFyIGbDpXR0IGVuIHJhYmF0dCEnLFxyXG4gICAgbWl0dEljYVJ1YnJpazogJ0hlaiEnLFxyXG4gICAgbWl0dEljYUluZ3Jlc3M6ICdFZnRlcnNvbSBkdSB0aXR0YXQgcMOlIHRvcnNrcmVjZXB0IHRpZGlnYXJlIHPDpSBrYW5za2UgZHUgw6RyIHN1Z2VuIHDDpSB0b3Jzaz8nLFxyXG4gICAgbWl0dEljYVRleHQ6ICdJIHPDpWRhbmEgZmFsbCB2aWxsIHZpIHRpcHNhIGRpZyBvbSB2w6VyIG1lc3QgcG9wdWzDpHJhIHRvcnNrc29wcGEgb2NoIGdlIGRpZyBlbiBwYXNzYW5kZSByYWJhdHQuJyxcclxuICB9O1xyXG5cclxuICBjb25zdCB0ZXN0ID0ge1xyXG4gICAgYWRkU3R5bGVzKCkge1xyXG4gICAgICBjb25zdCBjb3Vwb25Dc3MgPSBgXHJcbiAgICAgIC5oc2UtcmVjaXBlLWxpc3Qge1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjhFQkYzO1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5oc2UtcmVjaXBlLWxpc3Q6OmFmdGVyIHsgY29udGVudDogbm9uZTsgfVxyXG5cclxuICAgICAgLmhzZS1yZWNpcGUtbGlzdF9fd3JhcHBlciB7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRjtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICAgIHBhZGRpbmc6IDE1cHg7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5oc2UtcmVjaXBlLWxpc3RfX3dyYXBwZXI6OmFmdGVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejRLUENFdExTQkhaVzVsY21GMGIzSTZJRUZrYjJKbElFbHNiSFZ6ZEhKaGRHOXlJREl4TGpBdU1Td2dVMVpISUVWNGNHOXlkQ0JRYkhWbkxVbHVJQzRnVTFaSElGWmxjbk5wYjI0NklEWXVNREFnUW5WcGJHUWdNQ2tnSUMwdFBnbzhjM1puSUhabGNuTnBiMjQ5SWpFdU1TSWdhV1E5SWt4aGVXVnlYekVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZUcxc2JuTTZlR3hwYm1zOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc2lJSGc5SWpCd2VDSWdlVDBpTUhCNElnb0pJSFpwWlhkQ2IzZzlJakFnTUNBeE1DQXlNQ0lnYzNSNWJHVTlJbVZ1WVdKc1pTMWlZV05yWjNKdmRXNWtPbTVsZHlBd0lEQWdNVEFnTWpBN0lpQjRiV3c2YzNCaFkyVTlJbkJ5WlhObGNuWmxJajRLUEhOMGVXeGxJSFI1Y0dVOUluUmxlSFF2WTNOeklqNEtDUzV6ZERCN1ptbHNiRG9qUmpoRlFrWXpPMzBLUEM5emRIbHNaVDRLUEhCaGRHZ2dZMnhoYzNNOUluTjBNQ0lnWkQwaVRUSXVORGszTURJeExEa3VPVGc0T0RBM1l6QXNOQzR4TkRJeE5URXNNeTR6TlRjNE5Ea3NOeTQxTURBd01ERXNOeTQxTERjdU5UQXdNREF4ZGkweE5Rb0pRelV1T0RVME9EY3NNaTQwT0RnNE1EY3NNaTQwT1Rjd01qRXNOUzQ0TkRZMk5UWXNNaTQwT1Rjd01qRXNPUzQ1T0RnNE1EZDZJaTgrQ2p3dmMzWm5QZ289KSBzcGFjZTtcclxuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDE3cHggMTlweDtcclxuICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgY29udGVudDogJyc7XHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICByaWdodDogMDtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgd2lkdGg6IDEzcHhcclxuICAgICAgfVxyXG5cclxuICAgICAgLmhzZS1yZWNpcGUtbGlzdF9fb2ZmZXItY29udGVudCBoMSB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxLjZyZW07XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuMztcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAwXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIEBtZWRpYSAobWluLXdpZHRoOjQ4MHB4KSB7XHJcbiAgICAgICAgLmhzZS1yZWNpcGUtbGlzdF9fb2ZmZXItY29udGVudCBoMSB7XHJcbiAgICAgICAgICBmb250LXNpemU6IDEuOHJlbVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmhzZS1yZWNpcGUtbGlzdF9fb2ZmZXItY29udGVudCBzcGFuIHtcclxuICAgICAgICBjb2xvcjogI0VCMUYwNztcclxuICAgICAgICBmb250LWZhbWlseTogaWNhcnVicmlrO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMi4ycmVtO1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA3MDBcclxuICAgICAgfVxyXG5cclxuICAgICAgLmhzZS1yZWNpcGUtbGlzdF9fb2ZmZXItY29udGVudCBwIHtcclxuICAgICAgICBjb2xvcjogIzgwODI4MztcclxuICAgICAgICBmb250LXNpemU6IDEuM3JlbTtcclxuICAgICAgICBsaW5lLWhlaWdodDogMTtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuaHNlLXJlY2lwZS1saXN0IC5jb3Vwb24tbG9hZC13cmFwcGVyIC5idXR0b24tLWxvYWQtY291cG9uIHtcclxuICAgICAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICBiYWNrZ3JvdW5kOiAjRjhFQkYzO1xyXG4gICAgICAgIGNvbG9yOiAjQTAyOTcxO1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuNHJlbVxyXG4gICAgICB9XHJcblxyXG4gICAgICAuaHNlLXJlY2lwZS1saXN0IC5jb3Vwb24tbG9hZC13cmFwcGVyIC5idXR0b24tLW9ubG9hZC1jb3Vwb24ge1xyXG4gICAgICAgIG1hcmdpbjogMCBhdXRvO1xyXG4gICAgICAgIG1pbi13aWR0aDogMDtcclxuICAgICAgICB0cmFuc2l0aW9uOiB3aWR0aCAuMnMgMjUwbXMgZWFzZSwgY29sb3IgLjFzIC4ycyBlYXNlO1xyXG4gICAgICAgIHdpZHRoOiA5MHB4XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIEBtZWRpYSAobWluLXdpZHRoOjc2OHB4KSB7XHJcbiAgICAgICAgLmhzZS1yZWNpcGUtbGlzdCAuY291cG9uLWxvYWQtd3JhcHBlciAuYnV0dG9uLS1vbmxvYWQtY291cG9uIHtcclxuICAgICAgICAgIHdpZHRoOiAxMTVweFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgQG1lZGlhIChtaW4td2lkdGg6MTAyNHB4KSB7XHJcbiAgICAgICAgLmhzZS1yZWNpcGUtbGlzdCAuY291cG9uLWxvYWQtd3JhcHBlciAuYnV0dG9uLS1vbmxvYWQtY291cG9uIHtcclxuICAgICAgICAgIHdpZHRoOiAxNTBweFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLmhzZS1yZWNpcGUtbGlzdCAuY291cG9uLWxvYWQtd3JhcHBlciAuYnV0dG9uLS1vbmxvYWQtY291cG9uLmxvYWRpbmcge1xyXG4gICAgICAgIGNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIHRyYW5zaXRpb246IHdpZHRoIDI1MG1zIGVhc2UsIGNvbG9yIC4xcyBlYXNlO1xyXG4gICAgICAgIHdpZHRoOiA0MHB4XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5oc2UtcmVjaXBlLWxpc3QgLmNvdXBvbi1sb2FkLXdyYXBwZXIgLmJ1dHRvbi0tb25sb2FkLWNvdXBvbi5sb2FkaW5nIC5sb2FkZXIge1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9ja1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuaHNlLXJlY2lwZS1saXN0IC5jb3Vwb24tbG9hZC13cmFwcGVyIC5idXR0b24tLW9ubG9hZC1jb3Vwb24gLmxvYWRlciB7XHJcbiAgICAgICAgYm9yZGVyLXdpZHRoOiA0cHg7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICBoZWlnaHQ6IDI4cHg7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IC0xNHB4O1xyXG4gICAgICAgIG1hcmdpbi10b3A6IC0xNHB4O1xyXG4gICAgICAgIHdpZHRoOiAyOHB4XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5oc2UtcmVjaXBlLWxpc3Qub2ZmZXItbG9hZGVkIC5jb3Vwb24tbG9hZC13cmFwcGVyIGEge1xyXG4gICAgICAgIGJhY2tncm91bmQ6ICNEREU5QkY7XHJcbiAgICAgICAgY29sb3I6ICM4REI3MkM7XHJcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogd2lkdGggLjJzIGVhc2UsIGNvbG9yIC4ycyAyNTBtcyBlYXNlLCBiYWNrZ3JvdW5kIC4ycyBlYXNlXHJcbiAgICAgIH1cclxuICAgICAgYDtcclxuICAgICAgY29uc3Qgc3R5bGVzID0gYFxyXG4gICAgICAke2NvdXBvbkNzc31cclxuICAgICAgLmNybyAucGVyc29uYWwtb2ZmZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGOEVCRjM7XHJcbiAgICAgICAgcGFkZGluZzogMTVweDtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgICB9XHJcbiAgICAgIC5jcm8gLnBlcnNvbmFsLW9mZmVyICogeyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9XHJcblxyXG4gICAgICAuY3JvIC5wZXJzb25hbC1vZmZlcl9fY29udGFpbmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY3JvIC5wZXJzb25hbC1vZmZlcl9fbWVzc2FnZSB7XHJcbiAgICAgICAgcGFkZGluZzogMTVweDtcclxuICAgICAgICB3aWR0aDogNjAlO1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmNybyAucGVyc29uYWwtb2ZmZXIgLnRvZ2dsZS1wZXJzb25hbC1vZmZlciB7XHJcbiAgICAgICAgY29sb3I6ICNhMDI5NzE7XHJcbiAgICAgICAgZm9udC1mYW1pbHk6IGljYXRleHQ7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgICAgICB3aWR0aDogMTAwJTsgZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICB9XHJcbiAgICAgIC5jcm8gLnBlcnNvbmFsLW9mZmVyIC50b2dnbGUtcGVyc29uYWwtb2ZmZXJfX3N2ZyB7XHJcbiAgICAgICAgYWxpZ24tc2VsZjogZmxleC1lbmQ7XHJcbiAgICAgICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY3JvIC5wZXJzb25hbC1vZmZlcl9fdG9nZ2xlLWhlYWRlciB7XHJcbiAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY3JvIC5wZXJzb25hbC1vZmZlci0taGlkZGVuIC5wZXJzb25hbC1vZmZlcl9fY29udGFpbmVyIHsgZGlzcGxheTogbm9uZTsgfVxyXG4gICAgICAuY3JvIC5wZXJzb25hbC1vZmZlci0taGlkZGVuIC5wZXJzb25hbC1vZmZlcl9fdG9nZ2xlLWhlYWRlciB7IGRpc3BsYXk6IGJsb2NrOyB9XHJcbiAgICAgIC5jcm8gLnBlcnNvbmFsLW9mZmVyLS1oaWRkZW4gLnRvb2xiYXJfX2ljb24tLWluZGljYXRvciB7IHRyYW5zZm9ybTogcm90YXRlWigxODBkZWcpIHRyYW5zbGF0ZVkoMnB4KTsgfVxyXG5cclxuICAgICAgLmNybyAucGVyc29uYWwtb2ZmZXIgLnRvb2xiYXJfX2ljb24tLWluZGljYXRvciB7IGZpbGw6ICNhMDI5NzE7IH1cclxuXHJcbiAgICAgIC5jcm8gLnBlcnNvbmFsLW9mZmVyX19wcmVhbWJsZSwgLmNybyAucGVyc29uYWwtb2ZmZXJfX3ByZWFtYmxlLS1zdHJvbmcgeyBkaXNwbGF5OiBibG9jazsgbWFyZ2luLWJvdHRvbTogMTBweDsgfVxyXG5cclxuICAgICAgLmNybyAucGVyc29uYWwtb2ZmZXJfX3JlY2lwZS1hbmQtY291cG9uIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIHdpZHRoOiA0MCU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jcm8gLnBlcnNvbmFsLW9mZmVyX19jb3Vwb24geyB3aWR0aDogNTAlOyB9XHJcbiAgICAgIC5jcm8gLnBlcnNvbmFsLW9mZmVyX19yZWNpcGUgeyB3aWR0aDogNTAlOyB9XHJcblxyXG4gICAgICAuY3JvIC5wZXJzb25hbC1vZmZlcl9fcmVjaXBlIGEgeyBjb2xvcjogIzNGM0Y0MDsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgfVxyXG4gICAgICAuY3JvIC5wZXJzb25hbC1vZmZlcl9fcmVjaXBlIGEgaDQgeyBjb2xvcjogIzgwODI4MzsgfVxyXG5cclxuICAgICAgLmNybyAucGVyc29uYWwtb2ZmZXJfX3JlY2lwZS10ZXh0IHtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICB9XHJcbiAgICAgIC5jcm8gLnBlcnNvbmFsLW9mZmVyX19yZWNpcGUtdGV4dCBoMiB7IGZvbnQtc2l6ZTogMnJlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7IG1hcmdpbjogMDsgbGluZS1oZWlnaHQ6IDE7IH1cclxuICAgICAgLmNybyAucGVyc29uYWwtb2ZmZXJfX3JlY2lwZS10ZXh0IGg0IHtcclxuICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xyXG4gICAgICAgIGZvbnQtZmFtaWx5OiBpY2F0ZXh0O1xyXG4gICAgICAgIGNvbG9yOiAjODA4MjgzO1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxO1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICBtYXJnaW46IDA7XHJcbiAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgICAgfVxyXG4gICAgICAuY3JvIC5wZXJzb25hbC1vZmZlcl9fcmVjaXBlLXRleHQgcCB7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuM2VtO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgbWFyZ2luOiAwIDEwcHggMCAwO1xyXG4gICAgICB9XHJcbiAgICAgIC5jcm8gLnBlcnNvbmFsLW9mZmVyX19yZWNpcGUgc3ZnIC5hY3RpdmUgeyBmaWxsOiAjQTAyOTcxOyB9XHJcbiAgICAgIC5jcm8gLnBlcnNvbmFsLW9mZmVyX19yZWNpcGUgc3ZnIHtcclxuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgZmlsbDogI0Q1RDdEQTtcclxuICAgICAgICBoZWlnaHQ6IDE4cHg7XHJcbiAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgICAgICB3aWR0aDogODFweDtcclxuICAgICAgfVxyXG4gICAgICBAbWVkaWEgKG1heC13aWR0aDogOTgwcHgpIHtcclxuICAgICAgICAuY3JvIC5kYXNoYm9hcmQgeyBwb3NpdGlvbjogcmVsYXRpdmU7IH1cclxuICAgICAgICAuY3JvIC5kYXNoYm9hcmQgLnRvb2xiYXJzLXdyYXBwZXIgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDt9XHJcbiAgICAgIH1cclxuICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDUyMHB4KSB7XHJcbiAgICAgICAgLmNybyAucGVyc29uYWwtb2ZmZXJfX2NvbnRhaW5lciB7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IH1cclxuICAgICAgICAuY3JvIC5wZXJzb25hbC1vZmZlcl9fbWVzc2FnZSB7IHdpZHRoOiBhdXRvOyB9XHJcbiAgICAgICAgLmNybyAucGVyc29uYWwtb2ZmZXJfX3JlY2lwZS1hbmQtY291cG9uIHsgd2lkdGg6IGF1dG87IH1cclxuICAgICAgICAuY3JvIC5wZXJzb25hbC1vZmZlcl9fY291cG9uIHsgd2lkdGg6IDUwJTsgfVxyXG4gICAgICAgIC5jcm8gLnBlcnNvbmFsLW9mZmVyX19yZWNpcGUgeyB3aWR0aDogNTAlOyB9XHJcbiAgICAgICAgLmNybyAuaHNlLXJlY2lwZS1saXN0IHsgcGFkZGluZzogMTBweCAxMHB4IDAgMDsgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvKiBsb2dpbiBmcmFtZSAqL1xyXG4gICAgICBAbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIHsgLmNybyAuY3JvLWlmcmFtZS1jb250YWluZXIgeyBwYWRkaW5nLWJvdHRvbTogMTM1JSAhaW1wb3J0YW50OyB9IH1cclxuICAgICAgLmNybyA+IC5jcm8taWZyYW1lLWNvbnRhaW5lciB7IGRpc3BsYXk6IG5vbmU7IH1cclxuICAgICAgLmNybyAubW9kYWwtY29wbnRhaW5lciAuY3JvLWlmcmFtZS1jb250YWluZXIgeyBkaXNwbGF5OiBpbml0aWFsOyB9XHJcbiAgICAgIC5jcm8gLmNvbnRhaW5lciB7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogNTBweDt9XHJcbiAgICAgIC5jcm8gLmNvbnRhaW5lciBoMiB7IGZvbnQ6IDI4cHggaWNhaGFuZDsgbWFyZ2luLWJvdHRvbTogMjBweDsgfVxyXG4gICAgICAuY3JvIC5jcm8taWZyYW1lLWNvbnRhaW5lciB7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIGhlaWdodDogMDtcclxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgIHBhZGRpbmctYm90dG9tOiA4NSU7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0YzRjBFQjtcclxuICAgICAgfVxyXG4gICAgICAuY3JvIC5jcm8taWZyYW1lLWNvbnRhaW5lciBpZnJhbWUge1xyXG4gICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgfVxyXG4gICAgICAvKiBsb2dpbiBmcmFtZSAqL1xyXG4gICAgICBgO1xyXG4gICAgICByZXR1cm4gc3R5bGVzO1xyXG4gICAgfSxcclxuICAgIGFkZFN0YXJzKHN0YXJzKSB7XHJcbiAgICAgIGNvbnN0IGFyciA9IFsnMCcsICcyNicsICc1MicsICc3OCcsICcxMDQnXTtcclxuICAgICAgY29uc3Qgc3RycyA9IGFyci5tYXAoKHgsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgYDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgke3h9IDApXCIgY2xhc3M9XCIke2luZGV4IDwgc3RhcnMgPyAnYWN0aXZlJyA6ICcnfVwiPlxyXG4gICAgICAgIDxwYXRoIGQ9XCJNMjMuMiAxMC4zMDNxLjE5NC41MDktLjA3My45Ny0xLjE4OCAyLjE4Mi01LjA2NyA1LjQ3OSAxLjAxOCA0LjE5NCAxLjIxMiA2LjcxNS4wNDkuNjc5LS41MzMgMS4wNjctLjMxNS4xOTQtLjYzLjE5NC0uMjQyIDAtLjUzMy0uMTIxLS40MTItLjI0Mi0xLjMzMy0uNjc5LTMuMjczLTEuNjI0LTQuNjA2LTIuNDczLTEuMzMzLjg0OS00LjYwNiAyLjQ3My0uOTIxLjQzNi0xLjMzMy42NzktLjYwNi4zMTUtMS4xNjQtLjA3My0uNTgyLS4zODgtLjUzMy0xLjA2Ny4xOTQtMi41MjEgMS4yMTItNi43MTUtMy44NzktMy4yOTctNS4wNjctNS40NzktLjI2Ny0uNDYxLS4wNzMtLjk3LjE3LS41MDkuNjMtLjY3OSAxLjM1OC0uNjA2IDYuODYxLS44IDEuOTg4LTUuNzcgMy4yNDgtNy4wMy4zODgtLjMzOS44MjQtLjMzOS40NjEgMCAuOC4zMzkgMS4yODUgMS4yNjEgMy4yNzMgNy4wMyA1LjUwMy4xOTQgNi44NjEuOC40NjEuMTk0LjYzLjY3OXpcIj48L3BhdGg+XHJcbiAgICAgICAgPC9nPmApKTtcclxuICAgICAgcmV0dXJuIGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiLTAuMTIwOTk2MjY2NjAzNDY5ODUgMS40NTUwMDAxNjIxMjQ2MzM4IDEyNy4zOTQwMDEyMTU2OTYzMyAyNS4zNDYwMDQ2OTQ3MDAyNFwiPlxyXG4gICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD1cImhhbGZcIiB4MT1cIjBcIiB4Mj1cIjEwMCVcIiB5MT1cIjBcIiB5Mj1cIjBcIj5cclxuICAgICAgICA8c3RvcCBvZmZzZXQ9XCI1MCVcIiBzdG9wLWNvbG9yPVwiY3VycmVudENvbG9yXCI+PC9zdG9wPlxyXG4gICAgICAgIDxzdG9wIG9mZnNldD1cIjUwJVwiIHN0b3AtY29sb3I9XCIjZDVkN2RhXCI+PC9zdG9wPlxyXG4gICAgICAgIDwvbGluZWFyR3JhZGllbnQ+XHJcbiAgICAgICAgJHtzdHJzLmpvaW4oJycpfTwvc3ZnPmA7XHJcbiAgICB9LFxyXG4gICAgYWRkUmVjaXBlKCkge1xyXG4gICAgICBjb25zdCBbXHJcbiAgICAgICAgY29udGFpbmVyLFxyXG4gICAgICAgIGxpbmssXHJcbiAgICAgICAgaW1hZ2VDb250YWluZXIsXHJcbiAgICAgICAgdGV4dENvbnRhaW5lcixcclxuICAgICAgICBpbWFnZSxcclxuICAgICAgICBjb29rVGltZSxcclxuICAgICAgICB0aXRsZSxcclxuICAgICAgICBzdGFycyxcclxuICAgICAgXSA9ICRFTE0uY3JlYXRlKFxyXG4gICAgICAgICdwZXJzb25hbC1vZmZlcl9fcmVjaXBlJyxcclxuICAgICAgICAnYScsXHJcbiAgICAgICAgJ3BlcnNvbmFsLW9mZmVyX19yZWNpcGUtaW1hZ2UnLFxyXG4gICAgICAgICdwZXJzb25hbC1vZmZlcl9fcmVjaXBlLXRleHQnLFxyXG4gICAgICAgICdpbWcnLFxyXG4gICAgICAgICdoNCcsXHJcbiAgICAgICAgJ2gyJyxcclxuICAgICAgICAncCcsXHJcbiAgICAgICAgJ2RpdicsXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBpbWFnZS5pbWFnZShiYW5uZXIuaW1nKTtcclxuICAgICAgY29va1RpbWUudGV4dChiYW5uZXIuY29va1RpbWUpO1xyXG4gICAgICB0aXRsZS50ZXh0KGJhbm5lci50aXRsZSk7XHJcbiAgICAgIHN0YXJzLmh0bWwodGhpcy5hZGRTdGFycyhiYW5uZXIuc3RhcnMpKTtcclxuXHJcbiAgICAgIGltYWdlQ29udGFpbmVyLmFwcGVuZChpbWFnZSk7XHJcbiAgICAgIHRleHRDb250YWluZXIuYXBwZW5kQWxsKHRpdGxlLCBzdGFycywgY29va1RpbWUpO1xyXG5cclxuICAgICAgbGluay5ocmVmKGJhbm5lci51cmwpO1xyXG4gICAgICBsaW5rLmFwcGVuZEFsbChpbWFnZUNvbnRhaW5lciwgdGV4dENvbnRhaW5lcik7XHJcblxyXG4gICAgICBjb250YWluZXIuYXBwZW5kKGxpbmspO1xyXG4gICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfSxcclxuICAgIGFkZENvdXBvbigpIHtcclxuICAgICAgY29uc3Qgd3JhcHBlciA9ICRFTE0uY3JlYXRlKCdwZXJzb25hbC1vZmZlcl9fY291cG9uJyk7XHJcbiAgICAgIGNvbnN0IGxvZ2luVXJsID0gYC9sb2dnYS1pbj9yZXR1cm5Vcmw9JHtlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uKX1gO1xyXG4gICAgICBjb25zdCBpbWFnZVVybCA9IC9IYW5kbGVycy8udGVzdChjb3Vwb24uT2ZmZXIuSW1hZ2UuSW1hZ2VVcmwpXHJcbiAgICAgICAgPyBjb3Vwb24uT2ZmZXIuSW1hZ2UuSW1hZ2VVcmxcclxuICAgICAgICA6IGAvSGFuZGxlcnMvSW1hZ2UuYXNoeD93PTE1MCZoPTE1MCZtPXAmYmdyPWZmZiZ1PSR7Y291cG9uLk9mZmVyLkltYWdlLkltYWdlVXJsfWA7XHJcbiAgICAgIGNvbnN0IGt1cG9uZ0N0YSA9IGA8YSBocmVmPVwiI1wiIGRhdGEtdXJsPVwiXCIgZGF0YS1sb2dpbi11cmw9XCIke2xvZ2luVXJsfVwiIGNsYXNzPVwiYnV0dG9uIGJ1dHRvbi0tYXV0by13aWR0aCBidXR0b24tLWxvYWQtY291cG9uIGpzLWxvZ2dpbi1idG5cIj5cclxuICAgICAgJHtjb3Vwb24uT2ZmZXIuTG9hZGVkT25DYXJkID8gJ0t1cG9uZyBsYWRkYWQnIDogJ0xhZGRhIGt1cG9uZyd9XHJcbiAgICAgIDwvYT5gO1xyXG4gICAgICBjb25zdCBrdXBvbmdUZW1wbGF0ZSA9XHJcbiAgICAgIGA8YXJ0aWNsZSBjbGFzcz1cImhzZS1yZWNpcGUtbGlzdCAke2NvdXBvbi5PZmZlci5Mb2FkZWRPbkNhcmQgPyAnb2ZmZXItbG9hZGVkJyA6ICcnfVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJoc2UtcmVjaXBlLWxpc3RfX3dyYXBwZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJoc2UtcmVjaXBlLWxpc3RfX2ltYWdlXCI+XHJcbiAgICAgICAgICAgIDxwaWN0dXJlPlxyXG4gICAgICAgICAgICA8aW1nIHNyYz1cIiR7aW1hZ2VVcmx9XCI+XHJcbiAgICAgICAgICAgIDwvcGljdHVyZT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImhzZS1yZWNpcGUtbGlzdF9fb2ZmZXItY29udGVudFwiPlxyXG4gICAgICAgICAgICA8aDE+JHtjb3Vwb24uSGVhZGVyfTwvaDE+XHJcbiAgICAgICAgICAgIDxzcGFuPiR7Y291cG9uLk9mZmVyLk9mZmVyQ29uZGl0aW9uLkNvbmRpdGlvbnNbMF19PC9zcGFuPlxyXG4gICAgICAgICAgICA8cD4ke2NvdXBvbi5PZmZlci5CcmFuZH0gJHtjb3Vwb24uT2ZmZXIuU2l6ZU9yUXVhbnRpdHkuVGV4dH08L3A+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9XCIva2FtcGFuai9oc2UvJHtjb3Vwb25JZH1cIj5NZXIgaW5mbzwvYT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvdXBvbi1sb2FkLXdyYXBwZXJcIiBkYXRhLW9mZmVyaWQ9XCIke2NvdXBvbi5PZmZlcklkfVwiPlxyXG4gICAgICAgICAgICAke2t1cG9uZ0N0YX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2FydGljbGU+YDtcclxuICAgICAgd3JhcHBlci5odG1sKGt1cG9uZ1RlbXBsYXRlKTtcclxuICAgICAgcmV0dXJuIHdyYXBwZXI7XHJcbiAgICB9LFxyXG4gICAgYWRkVG9nZ2xlQnV0dG9uKCkge1xyXG4gICAgICBjb25zdCBhcnJvdyA9IGBcclxuICAgICAgPHN2ZyBjbGFzcz1cInRvb2xiYXJfX2ljb24gdG9vbGJhcl9faWNvbi0taW5kaWNhdG9yXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiIHdpZHRoPVwiMjBweFwiIGhlaWdodD1cIjIwcHhcIj5cclxuICAgICAgPHVzZSB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4bGluazpocmVmPVwiL0Fzc2V0cy9pY29ucy9zcHJpdGUuc3ZnI2Fycm93LXVwXCI+PC91c2U+XHJcbiAgICAgIDwvc3ZnPlxyXG4gICAgICBgO1xyXG4gICAgICBjb25zdCBbXHJcbiAgICAgICAgdG9nZ2xlLFxyXG4gICAgICAgIHRleHQsXHJcbiAgICAgICAgc3ZnLFxyXG4gICAgICBdID0gJEVMTS5jcmVhdGUoXHJcbiAgICAgICAgJ3RvZ2dsZS1wZXJzb25hbC1vZmZlcicsXHJcbiAgICAgICAgJ3NwYW4gdG9nZ2xlLXBlcnNvbmFsLW9mZmVyX190ZXh0JyxcclxuICAgICAgICAnc3BhbiB0b2dnbGUtcGVyc29uYWwtb2ZmZXJfX3N2ZycsXHJcbiAgICAgICk7XHJcblxyXG4gICAgICB0ZXh0LnRleHQoJ0TDtmxqIHBlcnNvbmxpZ3QgZXJianVkYW5kZScpO1xyXG4gICAgICBzdmcuaHRtbChhcnJvdyk7XHJcbiAgICAgIHRvZ2dsZS5hcHBlbmRBbGwodGV4dCwgc3ZnKTtcclxuXHJcbiAgICAgIHJldHVybiB0b2dnbGU7XHJcbiAgICB9LFxyXG4gICAgYWRkQmxvY2soKSB7XHJcbiAgICAgIGNvbnN0IFtcclxuICAgICAgICBwZXJzb25hbE9mZmVyLFxyXG4gICAgICAgIGNvbnRhaW5lcixcclxuICAgICAgICBtZXNzYWdlQ29udGFpbmVyLFxyXG4gICAgICAgIGhlYWRlcixcclxuICAgICAgICBwcmVhbWJsZSxcclxuICAgICAgICBib2R5LFxyXG4gICAgICAgIHJlY2lwZUFuZENvdXBvbixcclxuICAgICAgXSA9ICRFTE0uY3JlYXRlKFxyXG4gICAgICAgICdwZXJzb25hbC1vZmZlcicsXHJcbiAgICAgICAgJ3BlcnNvbmFsLW9mZmVyX19jb250YWluZXInLFxyXG4gICAgICAgICdwZXJzb25hbC1vZmZlcl9fbWVzc2FnZScsXHJcbiAgICAgICAgJ2gxIHBlcnNvbmFsLW9mZmVyX19oMScsXHJcbiAgICAgICAgJ3N0cm9uZyBwZXJzb25hbC1vZmZlcl9fcHJlYW1ibGUtLXN0cm9uZycsXHJcbiAgICAgICAgJ3NwYW4gcGVyc29uYWwtb2ZmZXJfX3ByZWFtYmxlLS1zdHJvbmcnLFxyXG4gICAgICAgICdwZXJzb25hbC1vZmZlcl9fcmVjaXBlLWFuZC1jb3Vwb24nLFxyXG4gICAgICApO1xyXG5cclxuICAgICAgY29uc3QgbmFtbiA9ICRFTE0uZ2V0KCcudG9wLWJhci1kaXNwbGF5LW5hbWUnKS5lbGVtZW50XHJcbiAgICAgICAgPyBgICR7JEVMTS5nZXQoJy50b3AtYmFyLWRpc3BsYXktbmFtZScpLnRleHQoKX1gXHJcbiAgICAgICAgOiAnJztcclxuXHJcbiAgICAgIGhlYWRlci50ZXh0KGBIZWoke25hbW59IWApO1xyXG4gICAgICBwcmVhbWJsZS50ZXh0KGNvbnRlbnQubWl0dEljYUluZ3Jlc3MpO1xyXG4gICAgICBib2R5LnRleHQoY29udGVudC5taXR0SWNhVGV4dCk7XHJcblxyXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLmFwcGVuZEFsbChoZWFkZXIsIHByZWFtYmxlLCBib2R5KTtcclxuICAgICAgcmVjaXBlQW5kQ291cG9uLmFwcGVuZEFsbCh0aGlzLmFkZENvdXBvbigpLCB0aGlzLmFkZFJlY2lwZSgpKTtcclxuICAgICAgY29udGFpbmVyLmFwcGVuZEFsbChtZXNzYWdlQ29udGFpbmVyLCByZWNpcGVBbmRDb3Vwb24pO1xyXG5cclxuICAgICAgcGVyc29uYWxPZmZlci5jc3MoJ3BsJyk7XHJcbiAgICAgIHBlcnNvbmFsT2ZmZXIuYXBwZW5kKGNvbnRhaW5lcik7XHJcblxyXG4gICAgICByZXR1cm4gcGVyc29uYWxPZmZlcjtcclxuICAgIH0sXHJcbiAgICBtYW5pcHVsYXRlRG9tKCkge1xyXG4gICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmFkZEJsb2NrKCk7XHJcbiAgICAgIGNvbnN0IGRhc2hib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkYXNoYm9hcmQnKTtcclxuICAgICAgZGFzaGJvYXJkLmluc2VydEJlZm9yZShjb250YWluZXIuZWxlbWVudCwgZGFzaGJvYXJkLmZpcnN0Q2hpbGQpO1xyXG5cclxuICAgICAgaWNhZGF0YWxheWVyLmFkZCgnSFNFJywge1xyXG4gICAgICAgIEhTRToge1xyXG4gICAgICAgICAgYWN0aW9uOiAnZGlzcGxheScsXHJcbiAgICAgICAgICB0aXRsZTogY291cG9uLlBhZ2VOYW1lLFxyXG4gICAgICAgICAgaHNldXJsOiBgL2thbXBhbmovaHNlLyR7Y291cG9uSWR9YCxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IHJldHVyblVybCA9IGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcbiAgICAgIGNvbnN0IGlmcmFtZUNvbnRhaW5lciA9ICQoYDxkaXYgY2xhc3M9XCJjcm8taWZyYW1lLWNvbnRhaW5lclwiPjxzcGFuIGNsYXNzPVwibG9hZGVyXCI+PC9zcGFuPjxpZnJhbWUgc3JjPVwiLy93d3cuaWNhLnNlL2xvZ2dhLWluLz9yZXR1cm51cmw9JHtyZXR1cm5Vcmx9XCIgZnJhbWVib3JkZXI9XCIwXCI+PC9pZnJhbWU+PC9kaXY+YCk7XHJcbiAgICAgICQoJ2JvZHknKS5hcHBlbmQoaWZyYW1lQ29udGFpbmVyKTtcclxuICAgIH0sXHJcbiAgICBsb2FkQ291cG9uRGF0YSgpIHtcclxuICAgICAgcmV0dXJuIGNvdXBvbi5PZmZlclxyXG4gICAgICAgID8gUHJvbWlzZS5yZXNvbHZlKGNvdXBvbilcclxuICAgICAgICA6IHdpbmRvdy5mZXRjaChgL2FwaS9qc29uaHNlLyR7Y291cG9uSWR9YCwgeyBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyB9KVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAgICAgLnRoZW4oKGpzb24pID0+IHsgY291cG9uID0gJCgpLmV4dGVuZCh7fSwgY291cG9uLCBqc29uKTsgfSk7XHJcbiAgICB9LFxyXG4gICAgc2V0QWN0aW9uQ29va2llKG9mZmVySWQpIHtcclxuICAgICAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgIGQuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSArIDEpOyAvLyBleHBpcmVzIHRvbW9ycm93XHJcblxyXG4gICAgICBJQ0EubGVnYWN5LnNldENvb2tpZSgnY3JvX3BlcnNvbmFsT2ZmZXJfYWN0aW9uQ29va2llX2xvYWRDb3Vwb24nLCBvZmZlcklkLCBkKTtcclxuICAgIH0sXHJcbiAgICBnZXRBY3Rpb25Db29raWUoKSB7XHJcbiAgICAgIGNvbnN0IGFjdGlvbkNvb2tpZSA9IElDQS5sZWdhY3kuZ2V0Q29va2llKCdjcm9fcGVyc29uYWxPZmZlcl9hY3Rpb25Db29raWVfbG9hZENvdXBvbicpO1xyXG5cclxuICAgICAgaWYgKGFjdGlvbkNvb2tpZSkge1xyXG4gICAgICAgIElDQS5sZWdhY3kua2lsbENvb2tpZSgnY3JvX3BlcnNvbmFsT2ZmZXJfYWN0aW9uQ29va2llX2xvYWRDb3Vwb24nKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuICthY3Rpb25Db29raWU7IC8vIGNvZXJjZSB0byBudW1iZXJcclxuICAgIH0sXHJcbiAgICBsb2FkQ291cG9uT25DYXJkKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2FkQ291cG9uRGF0YSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG9wdHMgPSB7XHJcbiAgICAgICAgICBPZmZlcklkOiBwYXJzZUludChjb3Vwb24uT2ZmZXIuT2ZmZXJJZCwgMTApLFxyXG4gICAgICAgICAgQ2FtcGFpZ25JZDogcGFyc2VJbnQoY291cG9uLkNhbXBhaWduSWQsIDEwKSxcclxuICAgICAgICAgIFN0b3JlSWQ6IHBhcnNlSW50KGNvdXBvbi5TdG9yZUlkLCAxMCksXHJcbiAgICAgICAgICBTdG9yZUdyb3VwSWQ6IHBhcnNlSW50KGNvdXBvbi5TdG9yZUdyb3VwSWQsIDEwKSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gd2luZG93LmZldGNoKFxyXG4gICAgICAgICAgJy9hcGkvanNvbmhzZS9DbGFpbW9mZmVyJyxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkob3B0cyksXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBpY2FkYXRhbGF5ZXIuYWRkKCdIU0UnLCB7XHJcbiAgICAgICAgICAgICAgSFNFOiB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdjb3Vwb24tbG9hZGVkJyxcclxuICAgICAgICAgICAgICAgIG5hbWU6IGNvdXBvbi5QYWdlTmFtZSxcclxuICAgICAgICAgICAgICAgIG9mZmVyOiBjb3Vwb24uT2ZmZXIuUHJvZHVjdE5hbWUsXHJcbiAgICAgICAgICAgICAgICBoc2V1cmw6IGAva2FtcGFuai9oc2UvJHtjb3Vwb25JZH1gLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBjaGVja0FjdGlvbkNvb2tpZSgpIHtcclxuICAgICAgY29uc3QgaWQgPSB0aGlzLmdldEFjdGlvbkNvb2tpZSgpO1xyXG4gICAgICBpZiAoaWQgJiYgdGhpcy5pc0xvZ2dlZEluKCkpIHtcclxuICAgICAgICB0aGlzLmxvYWRDb3Vwb25PbkNhcmQoKS50aGVuKHRoaXMuY2hhbmdlT2ZmZXJTdGF0dXMpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgY2hhbmdlT2ZmZXJTdGF0dXMocmVzcG9uc2UpIHtcclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgJEVMTSgnLmhzZS1yZWNpcGUtbGlzdCcpLmNzcygnb2ZmZXItbG9hZGVkJyk7XHJcbiAgICAgICAgJEVMTSgnLmJ1dHRvbi0tbG9hZC1jb3Vwb24nKS50ZXh0KCdLdXBvbmcgbGFkZGFkJyk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsb2FkZXJJc0FjdGl2ZTogZmFsc2UsXHJcbiAgICBidXR0b25IYW5kbGVyUG9sbFRpbWVvdXQ6IG51bGwsXHJcbiAgICBzaG93TG9hZGVyKCkge1xyXG4gICAgICBjb25zdCBjb250YWluZXIgPSAkKCcuY3JvLWlmcmFtZS1jb250YWluZXInKTtcclxuICAgICAgY29udGFpbmVyLmZpbmQoJy5sb2FkZXInKS5zaG93KCk7XHJcbiAgICAgIGNvbnRhaW5lci5maW5kKCdpZnJhbWUnKS5jc3MoJ29wYWNpdHknLCAnMCcpO1xyXG4gICAgICB0aGlzLmxvYWRlcklzQWN0aXZlID0gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBoaWRlTG9hZGVyKCkge1xyXG4gICAgICBjb25zdCBjb250YWluZXIgPSAkKCcuY3JvLWlmcmFtZS1jb250YWluZXInKTtcclxuICAgICAgY29udGFpbmVyLmZpbmQoJy5sb2FkZXInKS5oaWRlKCk7XHJcbiAgICAgIGNvbnRhaW5lci5maW5kKCdpZnJhbWUnKS5jc3MoJ29wYWNpdHknLCAnMScpO1xyXG4gICAgICB0aGlzLmxvYWRlcklzQWN0aXZlID0gZmFsc2U7XHJcbiAgICB9LFxyXG4gICAgYWRkQnV0dG9uSGFuZGxlclBvbGwoKSB7XHJcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICBjb25zdCBpZnJhbWUgPSAkKCcuY3JvLWlmcmFtZS1jb250YWluZXIgaWZyYW1lJyk7XHJcbiAgICAgIGNvbnN0IGUgPSBpZnJhbWUuY29udGVudHMoKS5maW5kKCcucmVtb2RhbC13cmFwcGVyICNncmV5LWNhcmQtYnRuLCAucmVtb2RhbC13cmFwcGVyIC5waW5rLWNhcmQtYnRuJyk7XHJcblxyXG4gICAgICBpZiAoZS5sZW5ndGgpIHtcclxuICAgICAgICBlLmNsaWNrKCgpID0+IHtcclxuICAgICAgICAgIHNlbGYuc2hvd0xvYWRlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc2VsZi5idXR0b25IYW5kbGVyUG9sbFRpbWVvdXQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNlbGYuYnV0dG9uSGFuZGxlclBvbGxUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoXHJcbiAgICAgICAgICBzZWxmLmFkZEJ1dHRvbkhhbmRsZXJQb2xsLmJpbmQoc2VsZiksXHJcbiAgICAgICAgICAxMDAwLFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhZGRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAkKCcucGVyc29uYWwtb2ZmZXInKS5vbignY2xpY2snLCAnLmJ1dHRvbi0tbG9hZC1jb3Vwb24nLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgaWYgKHNlbGYuaXNMb2dnZWRJbigpKSB7XHJcbiAgICAgICAgICBzZWxmLmxvYWRDb3Vwb25PbkNhcmQoKS50aGVuKHNlbGYuY2hhbmdlT2ZmZXJTdGF0dXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpY2FkYXRhbGF5ZXIuYWRkKCdIU0UnLCB7XHJcbiAgICAgICAgICAgIEhTRToge1xyXG4gICAgICAgICAgICAgIGFjdGlvbjogJ2xvZ2luLW1vdXNlZG93bicsXHJcbiAgICAgICAgICAgICAgbmFtZTogY291cG9uLlBhZ2VOYW1lLFxyXG4gICAgICAgICAgICAgIGhzZXVybDogYC9rYW1wYW5qL2hzZS8ke2NvdXBvbklkfWAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHNlbGYuc2V0QWN0aW9uQ29va2llKGNvdXBvbklkKTtcclxuICAgICAgICAgIHNlbGYuY3JlYXRlTW9kYWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgJCh3aW5kb3cpLm9uKCdtZXNzYWdlIG9ubWVzc2FnZScsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gYCR7d2luZG93LmxvY2F0aW9uLnByb3RvY29sfS8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH1gO1xyXG4gICAgICAgIGlmIChlLm9yaWdpbmFsRXZlbnQub3JpZ2luID09PSBvcmlnaW4gJiYgL21vYmlsZWJhbmtpZC9pLnRlc3QoZS5vcmlnaW5hbEV2ZW50LmRhdGEpKSB7XHJcbiAgICAgICAgICBzZWxmLnNob3dMb2FkZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGdldElmcmFtZVN0eWxlcygpIHtcclxuICAgICAgY29uc3Qgc3R5bGVzID0gYDxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj5cclxuICAgICAgQG1lZGlhICAobWF4LXdpZHRoOiA3NjdweCkge1xyXG4gICAgICAgIGgzLmdyZWV0aW5nLCBoMy5jYXJkLWhlYWRpbmcgeyBmb250LXNpemU6IDE4cHg7IH1cclxuICAgICAgICBpbWcuY2FyZC1pY29uIHsgd2lkdGg6IDUwcHg7IH1cclxuICAgICAgICAuc2VsZWN0LWNhcmQtbW9kYWwgeyBib3JkZXI6IDA7IHBhZGRpbmc6IDA7IG1hcmdpbjogMDsgfVxyXG4gICAgICAgIC5yZW1vZGFsLXdyYXBwZXIgeyBwYWRkaW5nOiAwOyB9XHJcbiAgICAgIH1cclxuICAgICAgPC9zdHlsZT5gO1xyXG4gICAgICByZXR1cm4gc3R5bGVzO1xyXG4gICAgfSxcclxuICAgIGNyZWF0ZU1vZGFsKCkge1xyXG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgY29uc3QgbW9kYWwgPSBuZXcgY29yZUNvbXBvbmVudHMubW9kYWwoe1xyXG4gICAgICAgIHRwbDogJCgnLmNyby1pZnJhbWUtY29udGFpbmVyJykuZ2V0KDApLFxyXG4gICAgICAgIHNpemU6ICdtZCcsXHJcbiAgICAgICAgY29udGFpbmVyOiAkKCcubW9kYWwtY29udGFpbmVyJykuZ2V0KDApLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHNlbGYuc2hvd0xvYWRlcigpO1xyXG5cclxuICAgICAgICBjb25zdCBpZnJhbWUgPSAkKCcuY3JvLWlmcmFtZS1jb250YWluZXIgaWZyYW1lJyk7XHJcblxyXG4gICAgICAgIGlmcmFtZS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgXiR7d2luZG93LmxvY2F0aW9uLmhyZWZ9JGAsICdnaScpO1xyXG4gICAgICAgICAgaWYgKHJlZ2V4LnRlc3QodGhpcy5jb250ZW50V2luZG93LmxvY2F0aW9uKSkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnRXaW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCdsb2dnYS1pbicpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBsZXQgaGVhZGVyQmFyVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGhpZGVIZWFkZXJCYXIsIDEwKTtcclxuICAgICAgICAgICAgbGV0IGFwcGVuZEhlYWRlclRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChhcHBlbmRIZWFkZXIsIDEwKTtcclxuICAgICAgICAgICAgbGV0IGFkZFN0eWxlc1RpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChhZGRTdHlsZXMsIDEwKTtcclxuICAgICAgICAgICAgbGV0IGFkZElmcmFtZVRyYWNraW5nVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGFkZElmcmFtZVRyYWNraW5nLCAxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhpZGVIZWFkZXJCYXJEZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcclxuICAgICAgICAgICAgY29uc3QgYXBwZW5kSGVhZGVyRGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZFN0eWxlc0RlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xyXG4gICAgICAgICAgICBjb25zdCBhZGRJZnJhbWVUcmFja2luZ0RlZmVycmVkID0gJC5EZWZlcnJlZCgpO1xyXG5cclxuICAgICAgICAgICAgJC53aGVuKFxyXG4gICAgICAgICAgICAgIGhpZGVIZWFkZXJCYXJEZWZlcnJlZCxcclxuICAgICAgICAgICAgICBhcHBlbmRIZWFkZXJEZWZlcnJlZCxcclxuICAgICAgICAgICAgICBhZGRTdHlsZXNEZWZlcnJlZCxcclxuICAgICAgICAgICAgICBhZGRJZnJhbWVUcmFja2luZ0RlZmVycmVkLFxyXG4gICAgICAgICAgICApLmRvbmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIHNlbGYuaGlkZUxvYWRlcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhpZGVIZWFkZXJCYXIoKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZSA9ICQoJy5jcm8taWZyYW1lLWNvbnRhaW5lciBpZnJhbWUnKS5jb250ZW50cygpLmZpbmQoJy5oZWFkZXItYmFyJyk7XHJcbiAgICAgICAgICAgICAgaWYgKGUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBlLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaGVhZGVyQmFyVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICBoaWRlSGVhZGVyQmFyRGVmZXJyZWQucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoZWFkZXJCYXJUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoaGlkZUhlYWRlckJhciwgMCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhcHBlbmRIZWFkZXIoKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZSA9ICQoJy5jcm8taWZyYW1lLWNvbnRhaW5lciBpZnJhbWUnKS5jb250ZW50cygpLmZpbmQoJ2gxJyk7XHJcbiAgICAgICAgICAgICAgaWYgKGUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBlLmFwcGVuZCgnIGbDtnIgbGFkZGEga3Vwb25nZW4nKTtcclxuICAgICAgICAgICAgICAgIGUuY3NzKHsgJ2ZvbnQtZmFtaWx5JzogJ2ljYWhhbmQsIGFyaWFsLCBzYW5zLXNlcmlmJywgJ2ZvbnQtc2l6ZSc6ICczcmVtJyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgICBlLmNzcygnZm9udC1zaXplJywgJzE4cHgnKTtcclxuICAgICAgICAgICAgICAgICAgZS5wYXJlbnQoKS5jc3MoJ21hcmdpbicsICcwJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGFwcGVuZEhlYWRlclRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgYXBwZW5kSGVhZGVyRGVmZXJyZWQucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHBlbmRIZWFkZXJUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoYXBwZW5kSGVhZGVyLCAwKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZFN0eWxlcygpIHtcclxuICAgICAgICAgICAgICBjb25zdCBlID0gJCgnLmNyby1pZnJhbWUtY29udGFpbmVyIGlmcmFtZScpLmNvbnRlbnRzKCkuZmluZCgnYm9keScpO1xyXG4gICAgICAgICAgICAgIGlmIChlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgZS5hcHBlbmQoc2VsZi5nZXRJZnJhbWVTdHlsZXMoKSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGFkZFN0eWxlc1RpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgYWRkU3R5bGVzRGVmZXJyZWQucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhZGRTdHlsZXNUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoYWRkU3R5bGVzLCAwKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZElmcmFtZVRyYWNraW5nKCkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGUgPSAkKCcuY3JvLWlmcmFtZS1jb250YWluZXIgaWZyYW1lJykuY29udGVudHMoKTtcclxuICAgICAgICAgICAgICBpZiAoZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50QWN0aW9uID0gJ1NwYXJhIHJlY2VwdCBmcsOlbiBzdGFydHNpZGFuJztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGb3J0c8OkdHQgKE1vYmlsdCBCYW5rSWQpXHJcbiAgICAgICAgICAgICAgICBlLmZpbmQoJyNzdWJtaXQtbG9naW4tbW9iaWxlLWJhbmstaWQnKS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgJ0EvQicsIGV2ZW50QWN0aW9uLCAnTG9nZ2EgaW4gLSBNb2JpbHQgQmFua0lkJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBCZWjDtnZlciBkdSBoasOkbHAgKE1vYmlsdCBCYW5rSWQpXHJcbiAgICAgICAgICAgICAgICBlLmZpbmQoJy5sb2dpbi1zdXBwb3J0LWJhbmstaWQtbGluaycpLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCAnQS9CJywgZXZlbnRBY3Rpb24sICdCZWjDtnZlciBkdSBoasOkbHAnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNrYXBhIGtvbnRvIChNb2JpbHQgQmFua0lkKVxyXG4gICAgICAgICAgICAgICAgZS5maW5kKCcuZ2V0LW1vYmlsZS1iYW5rLWlkLWxpbmsnKS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgJ0EvQicsIGV2ZW50QWN0aW9uLCAnU2thcGEga29udG8gLSBNb2JpbHQgQmFua0lkJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBMb2dnYSBpbiAoTMO2c2Vub3JkKVxyXG4gICAgICAgICAgICAgICAgZS5maW5kKCcjbG9nLWluLXN1Ym1pdCcpLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCAnQS9CJywgZXZlbnRBY3Rpb24sICdMb2dnYSBpbiAtIEzDtnNlbm9yZCcpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2zDtm10IGzDtnNlbm9yZCAoTMO2c2Vub3JkKVxyXG4gICAgICAgICAgICAgICAgZS5maW5kKCcubG9naW4tc3VwcG9ydC1wYXNzd29yZC1saW5rJykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBnYSgnc2VuZCcsICdldmVudCcsICdBL0InLCBldmVudEFjdGlvbiwgJ0dsw7ZtdCBsw7ZzZW5vcmQnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNrYXBhIGtvbnRvIChMw7ZzZW5vcmQpXHJcbiAgICAgICAgICAgICAgICBlLmZpbmQoJy5jcmVhdGUtYWNjb3VudC1saW5rJykub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBnYSgnc2VuZCcsICdldmVudCcsICdBL0InLCBldmVudEFjdGlvbiwgJ1NrYXBhIGtvbnRvIC0gTMO2c2Vub3JkJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGFkZElmcmFtZVRyYWNraW5nVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICBhZGRJZnJhbWVUcmFja2luZ0RlZmVycmVkLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWRkSWZyYW1lVHJhY2tpbmdUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoYWRkSWZyYW1lVHJhY2tpbmcsIDApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICQoJy5jcm8taWZyYW1lLWNvbnRhaW5lciBpZnJhbWUnKS5jb250ZW50cygpLmZpbmQoJ2Zvcm0nKS5vbignc3VibWl0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoISQodGhpcykuZmluZCgnaW5wdXQuZXJyb3InKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICBzZWxmLnNob3dMb2FkZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgJCgnLmNyby1pZnJhbWUtY29udGFpbmVyIGlmcmFtZScpLmNvbnRlbnRzKCkuZmluZCgnI3N1Ym1pdC1sb2dpbi1tb2JpbGUtYmFuay1pZCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmZpbmQoJ2lucHV0LmVycm9yJykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5idXR0b25IYW5kbGVyUG9sbFRpbWVvdXQgPSBzZXRUaW1lb3V0KFxyXG4gICAgICAgICAgICAgICAgc2VsZi5hZGRCdXR0b25IYW5kbGVyUG9sbC5iaW5kKHNlbGYpLFxyXG4gICAgICAgICAgICAgICAgMTAwMCxcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAkKCcuY3JvLWlmcmFtZS1jb250YWluZXIgaWZyYW1lJykuY29udGVudHMoKS5maW5kKCdhW2hyZWYqPVwid3d3LmljYS5zZVwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2hyZWYnLCAkKHRoaXMpLmF0dHIoJ2hyZWYnKS5yZXBsYWNlKCdodHRwOi8vJywgJ2h0dHBzOi8vJykpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyB0cmlnZ2EgaG90amFyIGhlYXRtYXAgZsO2cnN0YSBnw6VuZ2VuIG1vZGFsZW4gw7ZwcG5hdHNcclxuICAgICAgICAvLyBpZiAodHlwZW9mIGhqID09PSAnZnVuY3Rpb24nICYmICFzZWxmLmhvdGphclRyaWdnZXJlZCkge1xyXG4gICAgICAgIC8vICAgICBoaigndHJpZ2dlcicsICd2YXJpYW50Jyk7XHJcbiAgICAgICAgLy8gICAgIHNlbGYuaG90amFyVHJpZ2dlcmVkID0gdHJ1ZTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgIH0sIDUwKTtcclxuICAgIH0sXHJcbiAgICBhZGROb3RpZmljYXRpb24oKSB7XHJcbiAgICAgIGNvbnN0IGNzcyA9IGBcclxuICAgICAgLmNybyAub2ZmZXItbm90aWZpY2F0aW9uIHtcclxuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgdG9wOiAxN3ZoO1xyXG4gICAgICAgIHJpZ2h0OiAtMjEwcHg7XHJcbiAgICAgICAgei1pbmRleDogOTk5OTk7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDtcclxuICAgICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDtcclxuICAgICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMDtcclxuICAgICAgICBmb250LWZhbWlseTogaWNhdGV4dCwgc2Fucy1zZXJpZjtcclxuICAgICAgICBmb250LXdlaWdodDogOTAwO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgICAgIGJveC1zaGFkb3c6IDJweCAycHggMTBweCAwcHggIzAwMDAwMDUyO1xyXG4gICAgICAgIHRyYW5zaXRpb246IHJpZ2h0IDAuNXM7XHJcbiAgICAgICAgcGFkZGluZzogMDtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEzcHg7XHJcbiAgICAgIH1cclxuICAgICAgLmNybyAub2ZmZXItbm90aWZpY2F0aW9uLnNob3cge1xyXG4gICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICB9XHJcbiAgICAgIC5jcm8gLm9mZmVyLW5vdGlmaWNhdGlvbiBzcGFuIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgfVxyXG4gICAgICAuY3JvIC5vZmZlci1ub3RpZmljYXRpb24gc3ZnIHtcclxuICAgICAgICBmaWxsOiAjYTAyOTcxO1xyXG4gICAgICAgIG1hcmdpbi10b3A6IDZweDtcclxuICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC41cztcclxuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgICAgfVxyXG4gICAgICAuY3JvIC5vZmZlci1ub3RpZmljYXRpb24uY2xvc2VkIHN2ZyB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKSB0cmFuc2xhdGVZKDNweCk7XHJcbiAgICAgIH1cclxuICAgICAgLmNybyAub2ZmZXItbm90aWZpY2F0aW9uIGEge1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjVFOUYwO1xyXG4gICAgICAgIHBhZGRpbmc6IDE1cHggMTNweCAxM3B4IDEzcHg7XHJcbiAgICAgIH1cclxuICAgICAgYDtcclxuICAgICAgdGhpcy5zdHlsZShjc3MpO1xyXG5cclxuICAgICAgY29uc3QgW1xyXG4gICAgICAgIG5vdGlmaWNhdGlvbixcclxuICAgICAgICBsaW5rLFxyXG4gICAgICAgIGFycm93LFxyXG4gICAgICBdID0gJEVMTS5jcmVhdGUoXHJcbiAgICAgICAgJ29mZmVyLW5vdGlmaWNhdGlvbicsXHJcbiAgICAgICAgJ2EnLFxyXG4gICAgICAgICdzcGFuJyxcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGFycm93Lmh0bWwoYFxyXG4gICAgICAgIDxzdmcgdmlld0JveD1cIjAgMCAzMiAzMlwiIHdpZHRoPVwiMjBweFwiIGhlaWdodD1cIjIwcHhcIj5cclxuICAgICAgICA8dXNlIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHhsaW5rOmhyZWY9XCIvQXNzZXRzL2ljb25zL3Nwcml0ZS5zdmcjYXJyb3ctcmlnaHRcIj48L3VzZT5cclxuICAgICAgICA8L3N2Zz5gKTtcclxuICAgICAgbGluay5ocmVmKCcvbWl0dGljYScpO1xyXG4gICAgICBsaW5rLnRleHQoY29udGVudC5ub3RpZmlrYXRpb25UZXh0KTtcclxuICAgICAgbGluay5jbGljaygoKSA9PiB0aGlzLmdhUHVzaCh7XHJcbiAgICAgICAgZXZlbnRBY3Rpb246ICdQZXJzb25saWdhIGVyYmp1ZGFuZGVuJyxcclxuICAgICAgICBldmVudExhYmVsOiAnTm90aWZpa2F0aW9uIGtsaWNrYWQgcMOlJyxcclxuICAgICAgfSkpO1xyXG4gICAgICBub3RpZmljYXRpb24uYXBwZW5kQWxsKGFycm93LCBsaW5rKTtcclxuXHJcbiAgICAgIG5vdGlmaWNhdGlvbi5jbGljaygoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3BhbicpIHtcclxuICAgICAgICAgIG5vdGlmaWNhdGlvbi5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2Nsb3NlZCcpO1xyXG4gICAgICAgICAgbm90aWZpY2F0aW9uLnN0eWxlKHtcclxuICAgICAgICAgICAgcmlnaHQ6IG5vdGlmaWNhdGlvbi5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnY2xvc2VkJylcclxuICAgICAgICAgICAgICA/IGAtJHtsaW5rLmVsZW1lbnQub2Zmc2V0V2lkdGh9cHhgXHJcbiAgICAgICAgICAgICAgOiAnMCcsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgJEVMTS5nZXQoJ2JvZHknKS5hcHBlbmQobm90aWZpY2F0aW9uKTtcclxuXHJcbiAgICAgIHRoaXMuZ2FQdXNoKHtcclxuICAgICAgICBldmVudEFjdGlvbjogJ1BlcnNvbmxpZ2EgZXJianVkYW5kZW4nLFxyXG4gICAgICAgIGV2ZW50TGFiZWw6ICdOb3RpZmlrYXRpb24gdmlzYWQnLFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IG5vdGlmaWNhdGlvbi5jc3MoJ3Nob3cnKSwgMSAqIDEwMDApO1xyXG4gICAgfSxcclxuICAgIHBhZ2VJc0lua29wc2xpc3RvcigpIHtcclxuICAgICAgcmV0dXJuIC9eaHR0cHM6XFwvXFwvd3d3LmljYS5zZVxcL21pdHRpY2FcXC8jOm1pdHRpY2E9aW5rb3BzbGlzdG9yJC8udGVzdCh3aW5kb3cubG9jYXRpb24pO1xyXG4gICAgfSxcclxuICAgIHBhZ2VJc0xvZ2luRm9ybSgpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICAvXmh0dHBzOlxcL1xcL3d3dy5pY2Euc2VcXC9sb2dnYS1pbi8udGVzdCh3aW5kb3cubG9jYXRpb24pICYmXHJcbiAgICAgICAgL2lua29wc2xpc3Rvci8udGVzdCh3aW5kb3cubG9jYXRpb24pXHJcbiAgICAgICk7XHJcbiAgICB9LFxyXG4gIH07XHJcblxyXG4gICQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcclxuICAgIE9iamVjdC5hc3NpZ24odGVzdCwgSUNBQ1JPKCkpO1xyXG4gICAgdGVzdC5sb2FkQ291cG9uRGF0YSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICBpZiAoIWNvdXBvbi5Mb2FkZWRPbkNhcmQpIHtcclxuICAgICAgICBpZiAodGVzdC5wYWdlSXNJbmtvcHNsaXN0b3IoKSkge1xyXG4gICAgICAgICAgdGVzdC5zdHlsZSh0ZXN0LmFkZFN0eWxlcygpKTtcclxuICAgICAgICAgIHRlc3QubWFuaXB1bGF0ZURvbSgpO1xyXG4gICAgICAgICAgdGVzdC5jaGVja0FjdGlvbkNvb2tpZSgpO1xyXG4gICAgICAgICAgdGVzdC5hZGRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXRlc3QucGFnZUlzTG9naW5Gb3JtKCkpIHtcclxuICAgICAgICAgIHRlc3QuYWRkTm90aWZpY2F0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxufSkoalF1ZXJ5KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3BlcnNvbmxpZ2EtZXJianVkYW5kZW4vdmFyaWFudC5qcyIsIi8qXHJcbmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjogW1xyXG4gIFwiZXJyb3JcIiwgeyBcInByb3BzXCI6IHRydWUsIFwiaWdub3JlUHJvcGVydHlNb2RpZmljYXRpb25zRm9yXCI6IFtcImVsZW1lbnRcIl0gfVxyXG5dXHJcbiovXHJcbi8qIGVzbGludCBuby11c2UtYmVmb3JlLWRlZmluZTogW1wiZXJyb3JcIiwgeyBcImZ1bmN0aW9uc1wiOiBmYWxzZSB9XSAqL1xyXG4vKiBlc2xpbnQtZW52IGVzNiAqL1xyXG5jb25zdCByZXNlcnZlZEVsZW1lbnRzID0gWydkaXYnLCAnYm9keScsICdoZWFkJywgJ2ltZycsICdzdHlsZScsICdzcGFuJywgJ3VsJywgJ2xpJywgJ2lucHV0JywgJ2J1dHRvbicsICdoMScsICdoMicsICdoMycsICdoNCcsICdhJywgJ3AnLCAnc3Ryb25nJywgJ3N2ZyddO1xyXG5jb25zdCBHZXRFbGVtZW50ID0gc2VsZWN0b3IgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcblxyXG5jb25zdCAkRUxNX0VMRU1FTlQgPSAoZWxlbWVudCkgPT4ge1xyXG4gIHJldHVybiB7XHJcbiAgICBhdHRyKC4uLmFyZ3MpIHtcclxuICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBbYXR0ciwgdmFsdWVdID0gYXJncy5sZW5ndGggPT09IDIgPyBbLi4uYXJnc10gOiBhcmdzWzBdLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyLCB2YWx1ZSk7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHIpO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHthcmdzfSBFbGVtZW50IGRvZXMgbm90IGV4aXN0ISBGdW5jdGlvbiAnYXR0cidgKTtcclxuICAgIH0sXHJcbiAgICBjbGljayhjYWxsYmFjaykge1xyXG4gICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYWxsYmFjayk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2NhbGxiYWNrfSBFbGVtZW50IGRvZXMgbm90IGV4aXN0ISBGdW5jdGlvbiAnY2xpY2snYCk7XHJcbiAgICB9LFxyXG4gICAgaHRtbChzdHIpIHtcclxuICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoIXN0cikgcmV0dXJuIGVsZW1lbnQuaW5uZXJIVE1MO1xyXG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gc3RyO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHtzdHJ9IEVsZW1lbnQgZG9lcyBub3QgZXhpc3QhIEZ1bmN0aW9uICdodG1sJ2ApO1xyXG4gICAgfSxcclxuICAgIHRleHQoc3RyKSB7XHJcbiAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKCFzdHIpIHJldHVybiBlbGVtZW50LmlubmVySFRNTDtcclxuICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3N0cn0gRWxlbWVudCBkb2VzIG5vdCBleGlzdCEgRnVuY3Rpb24gJ3RleHQnYCk7XHJcbiAgICB9LFxyXG4gICAgaW1hZ2Uoc3JjKSB7XHJcbiAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgZWxlbWVudC5zcmMgPSBzcmM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3NyY30gRWxlbWVudCBkb2VzIG5vdCBleGlzdCEgRnVuY3Rpb24gJ2ltYWdlJ2ApO1xyXG4gICAgfSxcclxuICAgIGhyZWYodXJsKSB7XHJcbiAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgZWxlbWVudC5ocmVmID0gdXJsO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHt1cmx9IEVsZW1lbnQgZG9lcyBub3QgZXhpc3QhIEZ1bmN0aW9uICdocmVmJ2ApO1xyXG4gICAgfSxcclxuICAgIGFwcGVuZEZpcnN0KGNoaWxkKSB7XHJcbiAgICAgIGNvbnN0IGMgPSBjaGlsZC5ub2RlVHlwZSA/IGNoaWxkIDogY2hpbGQuZWxlbWVudDtcclxuICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZShjLCBlbGVtZW50LmNoaWxkTm9kZXNbMF0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHtjaGlsZH0gRWxlbWVudCBkb2VzIG5vdCBleGlzdCEgRnVuY3Rpb24gJ2FwcGVuZCdgKTtcclxuICAgIH0sXHJcbiAgICBhcHBlbmQoY2hpbGQpIHtcclxuICAgICAgY29uc3QgYyA9IGNoaWxkLm5vZGVUeXBlID8gY2hpbGQgOiBjaGlsZC5lbGVtZW50O1xyXG4gICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoYyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2NoaWxkfSBFbGVtZW50IGRvZXMgbm90IGV4aXN0ISBGdW5jdGlvbiAnYXBwZW5kJ2ApO1xyXG4gICAgfSxcclxuICAgIGFwcGVuZEFsbCguLi5jaGlsZHMpIHtcclxuICAgICAgcmV0dXJuIGNoaWxkcy5tYXAodGhpcy5hcHBlbmQpO1xyXG4gICAgfSxcclxuICAgIGNzcyhjbikge1xyXG4gICAgICBpZiAoY24pIHtcclxuICAgICAgICBjbi5zcGxpdCgnICcpXHJcbiAgICAgICAgICAuam9pbignLCcpXHJcbiAgICAgICAgICAuc3BsaXQoJywnKVxyXG4gICAgICAgICAgLmZvckVhY2goYyA9PiBjICYmIGVsZW1lbnQgJiYgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGMucmVwbGFjZSgvXFwuL2csICcnKS50cmltKCkpKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sXHJcbiAgICBnZXQoLi4uYXJncykge1xyXG4gICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkgcmV0dXJuICRFTE1fRUxFTUVOVChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYXJnc1swXSkpO1xyXG4gICAgICAgIHJldHVybiBhcmdzLm1hcChhcmcgPT4gJEVMTV9FTEVNRU5UKGVsZW1lbnQucXVlcnlTZWxlY3RvcihhcmcpKSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2FyZ3N9IEVsZW1lbnQgZG9lcyBub3QgZXhpc3QhIEZ1bmN0aW9uICdnZXQnYCk7XHJcbiAgICB9LFxyXG4gICAgc3R5bGUoc3RsKSB7XHJcbiAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCBzdGwpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHtzdGx9IEVsZW1lbnQgZG9lcyBub3QgZXhpc3QhIEZ1bmN0aW9uICdzdHlsZSdgKTtcclxuICAgIH0sXHJcbiAgICBkYXRhKGtleSwgdmFsdWUpIHtcclxuICAgICAgaWYgKGVsZW1lbnQpIHtcclxuICAgICAgICBlbGVtZW50LmRhdGFzZXRba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHtrZXl9ICR7dmFsdWV9IEVsZW1lbnQgZG9lcyBub3QgZXhpc3QhIEZ1bmN0aW9uICdkYXRhJ2ApO1xyXG4gICAgfSxcclxuICAgIGVsZW1lbnQsXHJcbiAgfTtcclxufTtcclxuXHJcbmNvbnN0IENyZWF0ZUVsZW1lbnQgPSAoYXJnKSA9PiB7XHJcbiAgaWYgKGFyZyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSByZXR1cm4gJEVMTV9FTEVNRU5UKGFyZyk7XHJcbiAgY29uc3QgYXJyID0gYXJnLnNwbGl0KCcgJyk7XHJcbiAgY29uc3QgdHlwZSA9IGFyci5yZWR1Y2UoKGFjYywgY3VycmVudCkgPT4ge1xyXG4gICAgaWYgKHJlc2VydmVkRWxlbWVudHMuaW5jbHVkZXMoY3VycmVudCkpIHtcclxuICAgICAgcmV0dXJuIGN1cnJlbnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYWNjO1xyXG4gIH0sICdkaXYnKTtcclxuXHJcbiAgY29uc3QgY2xhc3NOYW1lcyA9IGFyci5maWx0ZXIoY3VycmVudCA9PiAhcmVzZXJ2ZWRFbGVtZW50cy5pbmNsdWRlcyhjdXJyZW50KSkuam9pbigpO1xyXG4gIGNvbnN0IGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XHJcbiAgcmV0dXJuICRFTE1fRUxFTUVOVChkb20pLmNzcyhjbGFzc05hbWVzKTtcclxufTtcclxuXHJcbmNvbnN0IENyZWF0ZUVsZW1lbnRCeU9iamVjdCA9ICh0eXBlLCBpdGVyYWJsZSkgPT4ge1xyXG4gIGNvbnN0IGVsZW1lbnQgPSBDcmVhdGVFbGVtZW50KHR5cGUpO1xyXG4gIE9iamVjdC5rZXlzKGl0ZXJhYmxlKS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICBjb25zdCBmdW5jID0gZWxlbWVudFtpdGVtXTtcclxuICAgIGlmIChmdW5jKSB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gaXRlcmFibGVbaXRlbV07XHJcbiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICBmdW5jKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiBlbGVtZW50O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0ICRFTE0gPSB7XHJcbiAgZWxtczoge30sXHJcbiAgY3JlYXRlKC4uLmFyZ3MpIHtcclxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIENyZWF0ZUVsZW1lbnQoYXJnc1swXSk7XHJcbiAgICByZXR1cm4gYXJncy5tYXAoYXJnID0+IENyZWF0ZUVsZW1lbnQoYXJnKSk7XHJcbiAgfSxcclxuICBidWlsZCh0eXBlLCBpdGVyYWJsZSkge1xyXG4gICAgcmV0dXJuIENyZWF0ZUVsZW1lbnRCeU9iamVjdCh0eXBlLCBpdGVyYWJsZSk7XHJcbiAgfSxcclxuICBnZXQoLi4uYXJncykge1xyXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIGNvbnN0IGtleSA9IE51bWJlci5pc0ludGVnZXIocGFyc2VJbnQoYXJnc1swXSwgMTApKSA/IHBhcnNlSW50KGFyZ3NbMF0sIDEwKSA6IGFyZ3NbMF07XHJcbiAgICAgIHJldHVybiB0aGlzLmVsbXNba2V5XSB8fCAkRUxNX0VMRU1FTlQoR2V0RWxlbWVudChrZXkpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcmdzLm1hcCgoYXJnKSA9PiB7XHJcbiAgICAgIGNvbnN0IGtleSA9IE51bWJlci5pc0ludGVnZXIocGFyc2VJbnQoYXJnLCAxMCkpID8gcGFyc2VJbnQoYXJnLCAxMCkgOiBhcmc7XHJcbiAgICAgIHJldHVybiB0aGlzLmVsbXNba2V5XSB8fCAkRUxNX0VMRU1FTlQoR2V0RWxlbWVudChrZXkpKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgc2F2ZShpZCwgZWxlbWVudCkge1xyXG4gICAgdGhpcy5lbG1zW2lkXSA9IHRoaXMuZWxtc1tpZF0gfHwge307XHJcbiAgICB0aGlzLmVsbXNbaWRdID0gZWxlbWVudDtcclxuICB9LFxyXG4gIGNvcHkoc2VsZWN0b3IpIHtcclxuICAgIGNvbnN0IGNoaWxkID0gR2V0RWxlbWVudChzZWxlY3Rvcik7XHJcbiAgICBpZiAoY2hpbGQpIHtcclxuICAgICAgcmV0dXJuIENyZWF0ZUVsZW1lbnQoY2hpbGQuY2xvbmVOb2RlKHRydWUpKTtcclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcihgJHtzZWxlY3Rvcn0gRWxlbWVudCBkb2VzIG5vdCBleGlzdCEgRnVuY3Rpb24gJ2NvcHknYCk7XHJcbiAgfSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBJQ0FDUk8gPSAoKSA9PiB7XHJcbiAgJEVMTS5nZXQoJ2JvZHknKS5jc3MoJ2NybycpO1xyXG4gIHJldHVybiB7XHJcbiAgICBnZXRFbGVtZW50Q29udGVudEJ5VGFnQW5kQXR0cihyZWdleHAsIHRhZywgYXR0cikge1xyXG4gICAgICBjb25zdCBxc2EgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRhZyk7XHJcbiAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkocXNhKS5yZWR1Y2UoKGFjYywgZWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGlmIChuZXcgUmVnRXhwKHJlZ2V4cCkudGVzdChlbGVtZW50W2F0dHJdKSkge1xyXG4gICAgICAgICAgYWNjLnB1c2goZWxlbWVudFthdHRyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgIH0sIFtdKTtcclxuICAgIH0sXHJcbiAgICByZW1vdmVFbGVtZW50cyhjbGFzc05hbWVzKSB7XHJcbiAgICAgIGNsYXNzTmFtZXMuZm9yRWFjaCgoY2xhc3NOYW1lKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWxtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjbGFzc05hbWUpO1xyXG4gICAgICAgIGlmIChlbG0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkgZWxtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxtKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgdG9BcnJheShsaXN0KSB7IHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChsaXN0KTsgfSxcclxuICAgIGxvYWQoLi4uYXJncykge1xyXG4gICAgICBjb25zdCBbdXJsLCBvcHRpb25zXSA9IGFyZ3M7XHJcbiAgICAgIGNvbnN0IG9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHsgbWV0aG9kOiAnZ2V0JyB9LCBvcHRpb25zKTtcclxuICAgICAgcmV0dXJuIGZldGNoKHVybCwgb3BzKVxyXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgICAgICAuY2F0Y2goZXJyID0+IGVycik7XHJcbiAgICB9LFxyXG4gICAgc3R5bGUoc3R5bGVzKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdzdHlsZSBpcyBkZXByZWNhdGVkLi4uIHVzZSBjc3MgYW5kIHJlcXVpcmUuJyk7XHJcbiAgICAgIGNvbnN0IHN0eWxlID0gJEVMTS5jcmVhdGUoJ3N0eWxlJyk7XHJcbiAgICAgIHN0eWxlLmF0dHIoJ3R5cGUnLCAndGV4dC9jc3MnKTtcclxuICAgICAgc3R5bGUuYXBwZW5kKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0eWxlcykpO1xyXG4gICAgICAkRUxNLmdldCgnaGVhZCcpLmFwcGVuZChzdHlsZSk7XHJcbiAgICB9LFxyXG4gICAgaXNMb2dnZWRJbigpIHtcclxuICAgICAgcmV0dXJuICRFTE0uZ2V0KCcjaGRuSWNhU3RhdGUnKS5hdHRyKCd2YWx1ZScpLmxlbmd0aCA+IDE7XHJcbiAgICB9LFxyXG4gICAgZ2FQdXNoKHsgZXZlbnRDYXRlZ29yeSA9ICdBL0InLCBldmVudEFjdGlvbiwgZXZlbnRMYWJlbCB9KSB7XHJcbiAgICAgIGlmIChnYSkge1xyXG4gICAgICAgIGdhKCdzZW5kJywgJ2V2ZW50JywgZXZlbnRDYXRlZ29yeSwgZXZlbnRBY3Rpb24sIGV2ZW50TGFiZWwpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2V0Q29va2llKGtleSwgdmFsdWUsIGV4cCkge1xyXG4gICAgICBjb25zdCBkYXRlID0gZXhwIHx8IG5ldyBEYXRlKCkuc2V0RGF0ZShuZXcgRGF0ZSgpLmdldERhdGUoKSArIDEpO1xyXG4gICAgICBjb25zb2xlLmxvZyhrZXksIHZhbHVlLCBkYXRlKTtcclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdXRpbC9tYWluLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==