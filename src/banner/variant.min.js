!function(n){function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,t){"use strict";var r=function(){return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,e){var t=[],r=!0,o=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){o=!0,i=n}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return t}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t(1);!function(n){hj&&hj("trigger","variant2");var e={addStyles:function(){return"\n        .cro .grow-one { flex-grow: 1; }\n        .cro .banner { display:flex; background-color: #F8EBF3;}\n        .cro .banner-row {\n          display:flex;\n          width:100%;\n          align-items: center;\n          background-color: white;\n          margin: 10px 15px;\n          min-height: 133px;\n          position: relative;\n        }\n        .cro .banner-row::after {\n          background:url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRjhFQkYzO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIuNDk3MDIxLDkuOTg4ODA3YzAsNC4xNDIxNTEsMy4zNTc4NDksNy41MDAwMDEsNy41LDcuNTAwMDAxdi0xNQoJQzUuODU0ODcsMi40ODg4MDcsMi40OTcwMjEsNS44NDY2NTYsMi40OTcwMjEsOS45ODg4MDd6Ii8+Cjwvc3ZnPgo=\") space;\n          background-size: 13px 26px;\n          bottom: 0;\n          content: '';\n          display: block;\n          height: 100%;\n          position: absolute;\n          right: 0;\n          top: 0;\n          width: 13px;\n        }\n        .cro .banner .banner-column { padding: 20px 10px; }\n        .cro .banner .banner-column .download {\n          align-items: center;\n          background: #F8EBF3;\n          color: #A02971;\n          cursor: pointer;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          margin: 10px 20px;\n          border-radius: 5rem;\n        }\n        .cro .banner .banner-column h1 { font-size: 1.6rem; }\n        .cro .banner .banner-column span {\n          color: #EB1F07;\n          font-family: icarubrik;\n          font-size: 2.2rem;\n          font-weight: bold;\n        }\n        .cro .banner .banner-column p {\n          color: #808283;\n          font-size: 1.3rem;\n        }\n        .cro .banner .banner-column .banner-column__more-info { font-size: 20px; }\n        .cro .banner-column__image img { max-width: 140px; max-height: 100px; }\n      "},getElementContentByTagAndAttr:function(n,e,t){var r=document.querySelectorAll(e);return this.toArray(r).reduce(function(e,r){return new RegExp(n).test(r[t])&&e.push(r[t]),e},[])},printBanner:function(n,e){var t=e.title,i=e.discount,a=e.preamble,c=e.url,u=e.img,l=o.$ELM.create("banner","banner-row","banner-column","banner-column grow-one","banner-column","banner-column__image","h1","span","p","img","a","a .button download"),s=r(l,12),d=s[0],p=s[1],f=s[2],m=s[3],g=s[4],h=s[5],b=s[6],y=s[7],x=s[8],I=s[9],w=s[10],A=s[11];I.image(u),h.append(I),w.href(c).text("LÃ¤s mer"),A.href(c).text("Ladda ner"),b.html(t),y.html(i),x.html(a),f.append(h),m.appendAll(b,y,x,w),g.append(A),p.appendAll(f,m,g),d.append(p),n.append(d)},loadBanners:function(n,e){var t=this;n.forEach(function(n){t.load("https://www.ica.se/api/jsonhse/"+n,{credentials:"same-origin"}).then(function(n){return n.json()}).then(function(n){var r=n.Header,o=n.Offer,i=o.OfferCondition,a=o.Brand,c=o.SizeOrQuantity;console.log(n),t.printBanner(e,{title:r,discount:i.Conditions[0],preamble:a+" "+c.Text,url:"",img:o.Image.ImageUrl})})})},manipulateDom:function(){var n=o.$ELM.get(".content"),e=this.getElementContentByTagAndAttr(/www.ica.se\/kampanj/g,"a","href").map(function(n){return n.match(/\d+$/)[0]});n.html(" "),this.loadBanners(e,n)}};n(document).ready(function(){Object.assign(e,(0,o.ICACRO)()),e.style(e.addStyles()),e.manipulateDom()})}(jQuery)},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["body","head","img","style","span","ul","li","input","button","h1","h2","h3","a","p"],o=function(n){return{attr:function(e,t){return t?(n.setAttribute(e,t),this):n.getAttribute(e)},html:function(e){return e?(n.innerHTML=e,this):n.innerHTML},text:function(e){return e?(n.innerHTML="",n.appendChild(document.createTextNode(e)),this):n.innerHTML},image:function(e){return n.src=e,this},href:function(e){return n.href=e,this},append:function(e){var t=e.nodeType?e:e.element;return n.appendChild(t),this},appendAll:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.map(this.append)},css:function(e){return e&&e.split(" ").join(",").split(",").forEach(function(e){return e&&n.classList.add(e.replace(/\./g,"").trim())}),this},style:function(e){return Object.assign(n.style,e),this},element:n}},i=function(n){return document.querySelector(n)},a=function(n){var e=n.split(" "),t=e.reduce(function(n,e){return r.includes(e)?e:n},"div"),i=(r.some(function(n){return n===t}),e.filter(function(n){return!r.includes(n)}).join()),a=document.createElement(t),c=new o(a);return c.css(i),c},c=e.$ELM={create:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];if(1===e.length){return a(e[0])}return e.map(function(n){return a(n)})},get:function(n){return"string"==typeof n?new o(i(n)):n.map(function(n){return new o(i(n))})}},u=e.ICACRO=function(){return c.get("body").css("cro"),{getElementContentByTagAndAttr:function(n,e,t){var r=document.querySelectorAll(e);return this.toArray(r).reduce(function(e,r){return new RegExp(n).test(r[t])&&e.push(r[t]),e},[])},removeElements:function(n){n.forEach(function(n){var e=document.querySelector(n);e instanceof HTMLElement&&e.parentNode.removeChild(e)})},toArray:function(n){return Array.prototype.slice.call(n)},load:function(){var n=Array.prototype.slice.call(arguments),e=n[0],t=n[1],r=Object.assign({},{method:"get"},t);return fetch(e,r).then(function(n){return n}).catch(function(n){return console.log(n),n})},style:function(n){var e=c.get("style");e.attr("type","text/css"),e.append(document.createTextNode(n)),c.get("head").append(e)},isLoggedIn:function(){return!!c.get("#hdnIcaState").attr("value")}}};window.$ELM=c,window.ICACRO=u}]);