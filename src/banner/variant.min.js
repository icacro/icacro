!function(n){function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,t){"use strict";var r=function(){return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,e){var t=[],r=!0,o=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){o=!0,i=n}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return t}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t(1),i=t(2);!function(n){var e={addStyles:function(){return i.styles},printBanner:function(n,e){var t=e.title,i=e.discount,a=e.preamble,c=e.url,u=e.img,l=o.$ELM.create("banner","banner-row","banner-column","banner-column grow-one","banner-column","banner-column__image","h1","span","p","img","a","a .button download"),s=r(l,12),d=s[0],p=s[1],f=s[2],g=s[3],m=s[4],h=s[5],b=s[6],y=s[7],x=s[8],v=s[9],w=s[10],I=s[11];v.image(u),h.append(v),w.href(c).text("LÃ¤s mer"),I.href(c).text("Ladda kupong"),b.html(t),y.html(i),x.html(a),f.append(h),g.appendAll(b,y,x,w),m.append(I),p.appendAll(f,g,m),d.append(p),n.append(d)},loadBanners:function(n,e){var t=this;n.forEach(function(n){t.load("https://www.ica.se/api/jsonhse/"+n,{credentials:"same-origin"}).then(function(n){return n.json()}).then(function(n){var r=n.Header,o=n.Offer,i=o.OfferCondition,a=o.Brand,c=o.SizeOrQuantity;t.printBanner(e,{title:r,discount:i.Conditions[0],preamble:a+" "+c.Text,url:"",img:o.Image.ImageUrl})})})},manipulateDom:function(){var n=o.$ELM.get("#content"),e=this.getElementContentByTagAndAttr(/www.ica.se\/kampanj\/hse/g,"a","href").map(function(n){return n.match(/\d+$/)[0]});n.html(" "),this.loadBanners(e,n)}};jQuery(document).ready(function(){Object.assign(e,(0,o.ICACRO)()),e.style(e.addStyles()),e.manipulateDom()})}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,e){var t=[],r=!0,o=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){o=!0,i=n}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return t}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=["body","head","img","style","span","ul","li","input","button","h1","h2","h3","h4","a","p","strong","svg"],i=function(n){return{attr:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var i=2===t.length?[].concat(function(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}(t)):t[0].split(":"),a=r(i,2),c=a[0],u=a[1];return u?(n.setAttribute(c,u),this):n.getAttribute(c)},html:function(e){return e?(n.innerHTML=e,this):n.innerHTML},text:function(e){return e?(n.innerHTML="",n.appendChild(document.createTextNode(e)),this):n.innerHTML},image:function(e){return n.src=e,this},href:function(e){return n.href=e,this},append:function(e){var t=e.nodeType?e:e.element;return n.appendChild(t),this},appendAll:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.map(this.append)},css:function(e){return e&&e.split(" ").join(",").split(",").forEach(function(e){return e&&n.classList.add(e.replace(/\./g,"").trim())}),this},style:function(e){return Object.assign(n.style,e),this},element:n}},a=function(n){return document.querySelector(n)},c=function(n){var e=n.split(" "),t=e.reduce(function(n,e){return o.includes(e)?e:n},"div"),r=e.filter(function(n){return!o.includes(n)}).join();return i(document.createElement(t)).css(r)},u=e.$ELM={create:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return 1===e.length?c(e[0]):e.map(function(n){return c(n)})},build:function(n,e){return function(n,e){var t=c(n);return console.clear(),Object.keys(e).forEach(function(n){var r=t[n];if(r){var o=e[n];o&&o.length&&r(o)}}),t}(n,e)},get:function(n){return"string"==typeof n?i(a(n)):n.map(function(n){return i(a(n))})}};e.ICACRO=function(){return u.get("body").css("cro"),{getElementContentByTagAndAttr:function(n,e,t){var r=document.querySelectorAll(e);return this.toArray(r).reduce(function(e,r){return new RegExp(n).test(r[t])&&e.push(r[t]),e},[])},removeElements:function(n){n.forEach(function(n){var e=document.querySelector(n);e instanceof HTMLElement&&e.parentNode.removeChild(e)})},toArray:function(n){return Array.prototype.slice.call(n)},load:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];var o=r(e,2),i=o[0],a=o[1],c=Object.assign({},{method:"get"},a);return fetch(i,c).then(function(n){return n}).catch(function(n){return n})},style:function(n){var e=u.create("style");e.attr("type","text/css"),e.append(document.createTextNode(n)),u.get("head").append(e)},isLoggedIn:function(){return 1===u.get("#hdnIcaState").attr("value").length}}}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.styles="\n.cro .grow-one { flex-grow: 1; }\n.cro .banner { display:flex; background-color: #F8EBF3; margin-bottom: 10px; }\n.cro .banner-row {\ndisplay:flex;\nwidth:100%;\nalign-items: center;\nbackground-color: white;\nmargin: 10px 15px;\nmin-height: 133px;\nposition: relative;\n}\n.cro .banner-row::after {\nbackground:url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRjhFQkYzO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIuNDk3MDIxLDkuOTg4ODA3YzAsNC4xNDIxNTEsMy4zNTc4NDksNy41MDAwMDEsNy41LDcuNTAwMDAxdi0xNQoJQzUuODU0ODcsMi40ODg4MDcsMi40OTcwMjEsNS44NDY2NTYsMi40OTcwMjEsOS45ODg4MDd6Ii8+Cjwvc3ZnPgo=\") space;\nbackground-size: 13px 26px;\nbottom: 0;\ncontent: '';\ndisplay: block;\nheight: 100%;\nposition: absolute;\nright: 0;\ntop: 0;\nwidth: 13px;\n}\n.cro .banner .banner-column:first-child { margin-left: 10px; }\n.cro .banner .banner-column:last-child {  margin-right: 10px; }\n.cro .banner .banner-column { padding: 10px; }\n.cro .banner .banner-column .download {\n  align-items: center;\n  background: #F8EBF3;\n  font-weight: bold;\n  color: rgba(160,41,113,1);\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 10px 10px 10px 0;\n  border-radius: 6rem;\n  width: 100px;\n  line-height: 1.6rem;\n  padding-bottom: 10px;\n}\n.cro .banner .banner-column h1 { font-size: 1.6rem; word-break: break-all;}\n.cro .banner .banner-column span {\n  color: #EB1F07;\n  font-family: icarubrik;\n  font-size: 2.2rem;\n  font-weight: bold;\n}\n.cro .banner .banner-column p {\n  color: #808283;\n  font-size: 1.3rem;\n  margin: 0;\n}\n.cro .banner .banner-column .banner-column__more-info { font-size: 20px; }\n.cro .banner-column__image {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  width: 150px;\n  height: 150px;\n}\n.cro .banner-column__image img {\n  max-width: 100%;\n  max-height: 100%;\n  width: auto;\n  height: auto;\n}\n@media only screen and (max-width: 780px){\n  .cro .banner-column__image {\n    width: 65px;\n    height: 65px;\n  }\n  #page {\n    padding: 0 5px 5px;\n  }\n  .cro .banner .banner-column:first-child { padding: 10px; margin-left: 0; }\n  .cro .banner .banner-column:last-child { padding: 10px 10px 10px 0; margin-right: 0; }\n  .cro .banner .banner-column { padding: 10px 0; }\n}\n"}]);