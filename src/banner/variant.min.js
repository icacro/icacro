!function(n){function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,t){"use strict";var r=function(){return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,e){var t=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){o=!0,i=n}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return t}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=t(1),i=t(2);!function(n){var e={addStyles:function(){return i.styles},printBanner:function(n,e){var t=e.title,i=e.discount,a=e.preamble,u=e.url,c=e.img,l=o.$ELM.create("banner","banner-row","banner-column","banner-column grow-one","banner-column","banner-column__image","h1","span","p","img","a","a .button download"),s=r(l,12),d=s[0],p=s[1],f=s[2],m=s[3],g=s[4],h=s[5],b=s[6],y=s[7],x=s[8],v=s[9],I=s[10],w=s[11];v.image(c),h.append(v),I.href(u).text("LÃ¤s mer"),w.href(u).text("Ladda ner"),b.html(t),y.html(i),x.html(a),f.append(h),m.appendAll(b,y,x,I),g.append(w),p.appendAll(f,m,g),d.append(p),n.append(d)},loadBanners:function(n,e){var t=this;n.forEach(function(n){t.load("https://www.ica.se/api/jsonhse/"+n,{credentials:"same-origin"}).then(function(n){return n.json()}).then(function(n){var r=n.Header,o=n.Offer,i=o.OfferCondition,a=o.Brand,u=o.SizeOrQuantity;t.printBanner(e,{title:r,discount:i.Conditions[0],preamble:a+" "+u.Text,url:"",img:o.Image.ImageUrl})})})},manipulateDom:function(){var n=o.$ELM.get("#content"),e=this.getElementContentByTagAndAttr(/www.ica.se\/kampanj\/hse/g,"a","href").map(function(n){return n.match(/\d+$/)[0]});n.html(" "),this.loadBanners(e,n)}};jQuery(document).ready(function(){Object.assign(e,(0,o.ICACRO)()),e.style(e.addStyles()),e.manipulateDom()})}()},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,e){var t=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(n){o=!0,i=n}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return t}(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=["body","head","img","style","span","ul","li","input","button","h1","h2","h3","h4","a","p","strong","svg"],i=function(n){return{attr:function(e,t){return t?(n.setAttribute(e,t),this):n.getAttribute(e)},html:function(e){return e?(n.innerHTML=e,this):n.innerHTML},text:function(e){return e?(n.innerHTML="",n.appendChild(document.createTextNode(e)),this):n.innerHTML},image:function(e){return n.src=e,this},href:function(e){return n.href=e,this},append:function(e){var t=e.nodeType?e:e.element;return n.appendChild(t),this},appendAll:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.map(this.append)},css:function(e){return e&&e.split(" ").join(",").split(",").forEach(function(e){return e&&n.classList.add(e.replace(/\./g,"").trim())}),this},style:function(e){return Object.assign(n.style,e),this},element:n}},a=function(n){return document.querySelector(n)},u=function(n){var e=n.split(" "),t=e.reduce(function(n,e){return o.includes(e)?e:n},"div"),r=e.filter(function(n){return!o.includes(n)}).join();return i(document.createElement(t)).css(r)},c=e.$ELM={create:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return 1===e.length?u(e[0]):e.map(function(n){return u(n)})},build:function(n,e){return function(n,e){var t=u(n);for(var r in e)if(t[r]){var o=e[r];o&&o.length&&t[r](o)}return t}(n,e)},get:function(n){return"string"==typeof n?i(a(n)):n.map(function(n){return i(a(n))})}};e.ICACRO=function(){return c.get("body").css("cro"),{getElementContentByTagAndAttr:function(n,e,t){var r=document.querySelectorAll(e);return this.toArray(r).reduce(function(e,r){return new RegExp(n).test(r[t])&&e.push(r[t]),e},[])},removeElements:function(n){n.forEach(function(n){var e=document.querySelector(n);e instanceof HTMLElement&&e.parentNode.removeChild(e)})},toArray:function(n){return Array.prototype.slice.call(n)},load:function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];var o=r(e,2),i=o[0],a=o[1],u=Object.assign({},{method:"get"},a);return fetch(i,u).then(function(n){return n}).catch(function(n){return n})},style:function(n){var e=c.create("style");e.attr("type","text/css"),e.append(document.createTextNode(n)),c.get("head").append(e)},isLoggedIn:function(){return 1===c.get("#hdnIcaState").attr("value").length}}}},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.styles="\n.cro .grow-one { flex-grow: 1; }\n.cro .banner { display:flex; background-color: #F8EBF3; margin-bottom: 10px; }\n.cro .banner-row {\ndisplay:flex;\nwidth:100%;\nalign-items: center;\nbackground-color: white;\nmargin: 10px 15px;\nmin-height: 133px;\nposition: relative;\n}\n.cro .banner-row::after {\nbackground:url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRjhFQkYzO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIuNDk3MDIxLDkuOTg4ODA3YzAsNC4xNDIxNTEsMy4zNTc4NDksNy41MDAwMDEsNy41LDcuNTAwMDAxdi0xNQoJQzUuODU0ODcsMi40ODg4MDcsMi40OTcwMjEsNS44NDY2NTYsMi40OTcwMjEsOS45ODg4MDd6Ii8+Cjwvc3ZnPgo=\") space;\nbackground-size: 13px 26px;\nbottom: 0;\ncontent: '';\ndisplay: block;\nheight: 100%;\nposition: absolute;\nright: 0;\ntop: 0;\nwidth: 13px;\n}\n.cro .banner .banner-column { padding: 10px 10px; }\n.cro .banner .banner-column .download {\nalign-items: center;\nbackground: #F8EBF3;\ncolor: #A02971;\ncursor: pointer;\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nmargin: 10px 10px 10px 0;\nborder-radius: 5rem;\n}\n.cro .banner .banner-column h1 { font-size: 1.6rem; }\n.cro .banner .banner-column span {\ncolor: #EB1F07;\nfont-family: icarubrik;\nfont-size: 2.2rem;\nfont-weight: bold;\n}\n.cro .banner .banner-column p {\ncolor: #808283;\nfont-size: 1.3rem;\n}\n.cro .banner .banner-column .banner-column__more-info { font-size: 20px; }\n.cro .banner-column__image img {\nmax-width: 140px;\nmax-height: 140px;\n}\n@media only screen and (max-width: 780px){\n.cro .banner-column__image img {\nmax-width: 80px;\nmax-height: 100px;\n}\n#page {\npadding: 0 5px 5px;\n}\n.cro .banner .banner-column .download {\nborder-radius: 2rem;\n}\n}\n"}]);