!function(n){function e(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return n[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var t={};e.m=n,e.c=t,e.d=function(n,t,i){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:i})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e,t){"use strict";!function(n){var e=[{recipeId:721648,title:"Semmelmuffins",stars:4,cookTime:"60 MIN | MEDEL",image:"https://www.ica.se/imagevaultfiles/id_155248/cf_259/semmelmuffins-721648-stor.jpg",url:"https://www.ica.se/recept/semmelmuffins-721648/",coupons:[{title:"Margarin",image:"https://www.ica.se/Handlers/Image.ashx?w=150&h=150&m=p&bgr=fff&u=http://extbild.ica.se//PictureWeb/80/1026/14_1000555305.jpg",discount:"5 kr rabatt",subtitle:"Milda 1 kg",url:""},{title:"Mandelmassa",image:"https://www.ica.se/Handlers/Image.ashx?w=150&h=150&m=p&bgr=fff&u=http://extbild.ica.se//PictureWeb/80/1044/14_1000555323.jpg",discount:"25% rabatt",subtitle:"ICA 200 g",url:""}]},{recipeId:721668,title:"Viltskavsgryta med messmör och lingon",stars:4,cookTime:"45 MIN | MEDEL",image:"https://www.ica.se/imagevaultfiles/id_155280/cf_259/viltskavsgryta-med-messmor-och-lingon-721658-liten.jpg",url:"https://www.ica.se/recept/viltskavsgryta-med-messmor-och-lingon-721668/",coupons:[{title:"Margarin",image:"https://www.ica.se/Handlers/Image.ashx?w=150&h=150&m=p&bgr=fff&u=http://extbild.ica.se//PictureWeb/80/1026/14_1000555305.jpg",discount:"5 kr rabatt",subtitle:"Milda 1 kg",url:""},{title:"Buljongkuber",image:"https://www.ica.se/Handlers/Image.ashx?w=150&h=150&m=p&bgr=fff&u=http://extbild.ica.se//PictureWeb/80/1028/14_1000555307.jpg",discount:"25% rabatt",subtitle:"Knorr 6-pack",url:""}]},{recipeId:721644,title:"Torsk med potatis och äggsås i kastrull",stars:4,cookTime:"60 MIN | MEDEL",image:"https://www.ica.se/imagevaultfiles/id_155207/cf_259/torsk-med-potatis-och-aggsas-i-kastrull-721634-lit.jpg",url:"https://www.ica.se/recept/torsk-med-potatis-och-aggsas-i-kastrull-721644/",coupons:[{title:"iMat",image:"https://www.ica.se/Handlers/Image.ashx?w=150&h=150&m=p&bgr=fff&u=http://extbild.ica.se//PictureWeb/80/1029/14_1000555308.jpg",discount:"15% rabatt",subtitle:"Oatly 250 g",url:""},{title:"Torskfilé",image:"https://www.ica.se/Handlers/Image.ashx?w=150&h=150&m=p&bgr=fff&u=http://extbild.ica.se//PictureWeb/80/1038/14_1000555317.jpg",discount:"5 kr i rabatt",subtitle:"ICA 600 g",url:""}]}],t={addStyles:function(){var n=document.createElement("style");n.setAttribute("type","text/css"),n.appendChild(document.createTextNode('\n<style type="text/css">\n.cro header .image-slider {\n  position: absolute !important;\n}\n.start-page>header {\n    height: 450px;\n}\n\n\n.cro .shadow .coupons-container__item img {\nwidth: 100% !important;\nmargin-left: 0 !important;\n}\n\n.shadow {\n   -webkit-filter: drop-shadow( 0px 0px 2px rgba(0,0,0,0.2) );\n   filter: drop-shadow( 0px 0px 2px rgba(0,0,0,0.2) );\n}\n\n.cro .has-hover .image-slider li.active,\n.cro .unslider-controls {\n  z-index: 21 !important;\n}\n\n.cro .banner-container {\n\n   width: 100%;\n   height: 100%;\n   background-color: white;\n   padding: 0 5px;\n   z-index: 20 !important;\n}\n.cro .banner-wrapper {\n  position: relative;\n  max-width: 1260px;\n  margin: 0 auto;\n  height: 420px;\n}\n\n.cro .coupons-container {\n   position: absolute;\n   top: 180px;\n   width: 100%;\n   z-index: 999;\n}\n\n.cro .coupons-wrapper {\n   display: flex;\n   flex-direction: row;\n   margin: 0 5px;\n}\n\n.cro .coupons-container .coupons-container__item {\n   background-color: white;\n   width: 50%;\n   margin: 0 4px;\n   padding: 10px;\n   border: 8px solid rgba(217,20,99,0.1);\n   border-radius: 6px;\n   display: flex;\n   flex-direction: column;\n}\n\n.cro .coupons-container .coupons-container__item img {\n   max-height: 50px;\n   width: 100%;\n}\n\n.cro .coupons-container .coupons-container__item h3 {\n   font-size: 1.5rem;\n   line-height: 20px;\n   margin: 5px 0 0;\n}\n\n.cro .coupons-container .coupons-container__item h1 {\n   color:#d31c06;\n   font-size: 1.8rem;\n   line-height: 15px;\n   margin: 0;\n}\n\n.cro .coupons-container .coupons-container__item h4 {\n   font-size: 1.2rem;\n   line-height: 15px;\n    margin: 0;\n}\n\n.cro .coupons-container .coupons-container__item a {\n   font-size: 1.2rem;\n   line-height: 15px;\n   margin-bottom: 5px;\n}\n\n.cro .coupons-container .coupons-container__item .coupon-button {\n  font-size: 1rem;\n  line-height: 2.2rem;\n  padding: 0 1rem;\n  height: 3rem;\n  min-width: auto;\n  align-self: center;\n      width: 100%;\n}\n\n.cro .coupons-container .coupons-container__item .coupons-image {\n  width: 100%;\n  height: 60px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n}\n\n.cro .banner-wrapper .banner-image {\n  height: 220px;\n  overflow: hidden;\n}\n\n.cro .banner-wrapper .banner-image img {\n  width: 100%;\n  position: relative;\n  margin-left: 0 !important;\n  height: auto !important;\n  min-width: 375px;\n}\n.cro .button-wrapper {\n  padding: 0 10px;\n}\n.cro .banner-wrapper .banner-button {\n    width: 100%;\n    margin: 180px 0 0;\n}\n\n.cro .offers-button {\n  width: 100%;\n  margin-bottom: 20px;\n}\n\n@media (max-width: 767px) {\n  .cro .banner-wrapper {\n    height: 330px;\n  }\n}\n\n.cro .rating-star-container {\n  position: absolute;\n  z-index: 50;\n  margin:10px;\n  color: white;\n  text-shadow: 0 0 5px rgba(0, 0, 0, 0.4);\n}\n\n.cro .rating-star-container a {\n  color: white;\n}\n\n.cro .rating-star-container .headline {\n  font-size: 36px;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  max-width: none;\n  font-family: icarubrik;\n  font-weight: 600;\n  line-height: 3rem;\n}\n\n.cro .rating-star-container .difficulty {\n  text-transform: uppercase;\n  font: 16px icatext;\n  font-weight: 900;\n  margin-top: 6px;\n}\n\n.cro .rating-star-container .offer-text {\n  font: 19px icatext, sans-serif;\n  font-weight: 600;\n}\n.cro .rating-star-container svg .active {\n  fill: #EB1F07;\n}\n.cro .rating-star-container svg {\n    display: inline-block;\n    fill: #D5D7DA;\n    height: 18px;\n    vertical-align: middle;\n    width: 91px;\n    -webkit-filter: drop-shadow( 1px 1px 2px rgba(0,0,0,0.4) );\n    filter: drop-shadow( 1px 1px 2px rgba(0,0,0,0.4) );\n}\n\n.cro .ica-card-container {\n  display: flex;\n  flex-direction: column;\n  min-height: 250px;\n}\n.cro .ica-card-container h1, .cro .ica-card-container h3 {\n   align-self: flex-start;\n}\n.cro .ica-card-container h1 {\n   color: #EB1F07;\n}\n.cro .ica-card-container a {\nalign-self: flex-start;\nmax-width: 250px;\nmargin-top:-160px;\n}\n.cro .ica-card-container img {\n  max-width: 385px;\n  width: 80%;\n align-self: flex-end;\nmargin-top:-120px;\n}\n\n@media only screen and (max-width: 960px){\n.cro .ica-card-container {\n  min-height: none;\n}\n.cro .ica-card-container h1 {\n    line-height: 3rem;\n    font-size: 3rem;\n    margin-bottom: 0;\n}\n.cro .ica-card-container h3 {\n    line-height: 2rem;\n    font-size: 1.7rem;\n    margin-bottom: 0;\n}\n.cro .ica-card-container a {\n    align-self: center;\n    margin-top:auto;\n}\n.cro .ica-card-container img {\n    align-self: center;\n    margin-top:auto;\n}\n.cro .offers-container {\n    width: 100%;\n    background-color: white;\n    -webkit-filter: drop-shadow( 1px 1px 2px rgba(0,0,0,0.4) );\n    filter: drop-shadow( 1px 1px 2px rgba(0,0,0,0.4) );\n}\n.start-page-icase>header.full-size-image .image-slider, .start-page-icase>header.full-size-image .image-slider ul, .start-page-icase>header.full-size-image .image-slider li {\nmax-height: 450px;\n}\n}\n.cro .unslider-controls { pointer-events: none; }\n.cro .unslider-arrow { pointer-events: auto; }\n\n@media (max-width: 767px) { .cro .cro-iframe-container { padding-bottom: 135% !important; } }\n.cro > .cro-iframe-container { display: none; }\n.cro .modal-copntainer .cro-iframe-container { display: initial; }\n.cro .container { text-align: center; margin-top: 50px;}\n.cro .container h2 { font: 28px icahand; margin-bottom: 20px; }\n.cro .cro-iframe-container {\n  position: relative;\n  height: 0;\n  overflow: hidden;\n  padding-bottom: 85%;\n  background-color: #F3F0EB;\n}\n.cro .cro-iframe-container iframe {\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n</style>')),document.querySelector("head").appendChild(n)},hideElements:function(){[".image-slider li",".image-slider .lazy-spinner",".header-content",".push-items-list",".quicklink-list",".main .link-list",".recipe-category-listing .banner-image",".recipe-category-listing > .col-12 > h2",".search-recipe-container__recipe-count",".recipe-category-listing .recipe-list-items"].forEach(function(n){var e=document.querySelector(n);e&&e.parentNode&&e.parentNode.removeChild(e)})},toArray:function(n){return Array.prototype.slice.call(n)},addCROClass:function(){document.querySelector("body").classList.add("cro")},addStyle:function(n,e){Object.assign(n.style,e)},create:function(n,e,t,i){var a=i||"div",o=document.createElement(a);return t&&"img"===i?o.src=t:t&&o.appendChild(document.createTextNode(t)),n&&(o.className=n),e&&e.appendChild(o),o},addStars:function(n){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="-0.12099626660346985 1.4550001621246338 127.39400121569633 25.34600469470024">\n<linearGradient id="half" x1="0" x2="100%" y1="0" y2="0">\n<stop offset="50%" stop-color="currentColor"></stop>\n<stop offset="50%" stop-color="#d5d7da"></stop>\n</linearGradient>\n'+["0","26","52","78","104"].map(function(e,t){return'<g transform="translate('+e+' 0)" class="'+(t<n?"active":"")+'">\n<path d="M23.2 10.303q.194.509-.073.97-1.188 2.182-5.067 5.479 1.018 4.194 1.212 6.715.049.679-.533 1.067-.315.194-.63.194-.242 0-.533-.121-.412-.242-1.333-.679-3.273-1.624-4.606-2.473-1.333.849-4.606 2.473-.921.436-1.333.679-.606.315-1.164-.073-.582-.388-.533-1.067.194-2.521 1.212-6.715-3.879-3.297-5.067-5.479-.267-.461-.073-.97.17-.509.63-.679 1.358-.606 6.861-.8 1.988-5.77 3.248-7.03.388-.339.824-.339.461 0 .8.339 1.285 1.261 3.273 7.03 5.503.194 6.861.8.461.194.63.679z"></path>\n</g>'}).join("")+"\n</svg>"},addCoupon:function(n){var e=this.create("shadow coupons-container__item"),t=this.create("coupons-image",e);return this.addStyle(t,{"background-image":"url("+n.image+")"}),this.create("",e,n.title,"h3"),this.create("",e,n.discount,"h1"),this.create("",e,n.subtitle,"h4"),this.create("",e,"Mer info","a"),this.create("button coupon-button",e,"Ladda kupong","button"),e},addBanner:function(n,e){var t=this,i=t.create("banner-container",null,null,"li"),a=t.create("banner-wrapper",i),o=t.create("rating-star-container",a),r=t.create("coupons-container",a),c=t.create("coupons-wrapper",r),s=t.create("banner-image",a);return t.create("image",s,n.image,"img"),t.create("offer-text",o,"Erbjudande på:","h3"),t.create("headline",o,n.title,"h1"),t.create("rating",o).innerHTML=t.addStars(n.stars),t.create("difficulty",o,n.cookTime,"h4"),t.createSaveRecipeCTA(n,a),n.coupons.forEach(function(n){c.appendChild(t.addCoupon(n))}),i},addBanners:function(){var n=this,t=document.querySelector(".image-slider ul");e.forEach(function(e,i){t.appendChild(n.addBanner(e,i))})},addIcaCard:function(){var n=this.create("ica-card-container");this.create("",n,"ICA-Kortet ger mer rabatt!","h1"),this.create("",n,"Bli ICA-bonusmedlem.","h3"),this.create("",n,"https://www.ica.se/ImageVaultFiles/id_61323/cf_259/ansok-ica-kort.png","img"),this.create("button",n,"Skapa konto och bli medlem","a").href="/ansokan/?step=6369766963666f726d",document.querySelector(".main").appendChild(n)},manipulateDom:function(){this.addCROClass(),this.hideElements(),this.addBanners(),this.createOffers(),this.addIcaCard();var e=encodeURIComponent(window.location.href),t=n('<div class="cro-iframe-container"><span class="loader"></span><iframe src="//www.ica.se/logga-in/?returnurl='+e+'" frameborder="0"></iframe></div>');console.log(t),n("body").append(t);var i=this.getActionCookie();i&&(this.addRecipeToShoppingList(i),this.saveRecipe(i))},createSaveRecipeCTA:function(n,e){var t=this,i=t.create("button-wrapper",e),a=t.create("button banner-button",i,"Lägg till i inköpslistan och spara recept","a");a.href="/logga-in/?returnUrl="+encodeURIComponent(window.location),a.dataset.recipeId=n.recipeId,a.onclick=function(e){e.preventDefault(),t.setActionCookie(n.recipeId),t.createModal()}},createOffers:function(){var n=document.querySelector(".main"),e=this.create("button-wrapper"),t=this.create("button offers-button",e,"Erbjudande sidan","a");t.href="/erbjudanden/butikserbjudanden/alla-digitala-kuponger/",n.insertBefore(t,n.childNodes[0])},addRecipeToShoppingList:function(n){ICA.ajax.post("/Templates/Recipes/Handlers/ShoppingListHandler.ashx",{recipeIds:[n],ShoppingListId:0,numberOfServings:0,recipes:[],shoppingListName:function(){var n=new Date,e=n.getFullYear(),t=n.getMonth();return"Att handla, "+n.getDate()+" "+{10:"nov",11:"dec"}[t]+" "+e}()})},saveRecipe:function(n){ICA.ajax.get("/Templates/Recipes/Handlers/FavoriteRecipesHandler.ashx",{recipeId:n,method:"Add"})},setActionCookie:function(n){var e=new Date;e.setDate((new Date).getDate()+1),ICA.legacy.setCookie("saveRecipeAndAddToShoppingListFromStartpage",n,e)},getActionCookie:function(){var n=ICA.legacy.getCookie("saveRecipeAndAddToShoppingListFromStartpage");return n&&ICA.legacy.killCookie("saveRecipeAndAddToShoppingListFromStartpage"),n},loaderIsActive:!1,buttonHandlerPollTimeout:null,showLoader:function(){var e=n(".cro-iframe-container");e.find(".loader").show(),e.find("iframe").css("opacity","0"),this.loaderIsActive=!0},hideLoader:function(){var e=n(".cro-iframe-container");e.find(".loader").hide(),e.find("iframe").css("opacity","1"),this.loaderIsActive=!1},addButtonHandlerPoll:function(){var e=this,t=n(".cro-iframe-container iframe").contents().find(".remodal-wrapper #grey-card-btn, .remodal-wrapper .pink-card-btn");t.length?(t.click(function(){e.showLoader()}),window.clearTimeout(e.buttonHandlerPollTimeout)):e.buttonHandlerPollTimeout=window.setTimeout(e.addButtonHandlerPoll.bind(e),1e3)},addEventListeners:function(){var e=this;n(window).on("message onmessage",function(n){var t=window.location.protocol+"//"+window.location.host;n.originalEvent.origin===t&&/mobilebankid/i.test(n.originalEvent.data)&&e.showLoader()})},getIframeStyles:function(){return'<style type="text/css">@media  (max-width: 767px) {h3.greeting, h3.card-heading { font-size: 18px; }img.card-icon { width: 50px; }.select-card-modal { border: 0; padding: 0; margin: 0; }.remodal-wrapper { padding: 0; }}</style>'},createModal:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this;new coreComponents.modal({tpl:n(".cro-iframe-container").get(0),size:"md",container:n(".modal-container").get(0)});setTimeout(function(){e.showLoader();n(".cro-iframe-container iframe").on("load",function(){if(new RegExp(window.location.href,"gi").test(this.contentWindow.location)&&window.location.reload(!0),-1!==this.contentWindow.location.href.indexOf("logga-in")){var t=function e(){var t=n(".cro-iframe-container iframe").contents().find(".header-bar");t.length?(t.hide(),window.clearTimeout(r),l.resolve()):r=window.setTimeout(e,0)},i=function e(){var t=n(".cro-iframe-container iframe").contents().find("h1");t.length?(t.append(" för att lägga till i inköpslistan och spara recept"),t.css({"font-family":"icahand, arial, sans-serif","font-size":"3rem"}),window.screen.width<768&&(t.css("font-size","18px"),t.parent().css("margin","0")),window.clearTimeout(c),p.resolve()):c=window.setTimeout(e,0)},a=function t(){var i=n(".cro-iframe-container iframe").contents().find("body");i.length?(i.append(e.getIframeStyles()),window.clearTimeout(s),m.resolve()):s=window.setTimeout(t,0)},o=function e(){var t=n(".cro-iframe-container iframe").contents();if(t.length){t.find("#submit-login-mobile-bank-id").on("click",function(){ga("send","event","A/B","SALDO","Logga in - Mobilt BankId")}),t.find(".login-support-bank-id-link").on("click",function(){ga("send","event","A/B","SALDO","Behöver du hjälp")}),t.find(".get-mobile-bank-id-link").on("click",function(){ga("send","event","A/B","SALDO","Skapa konto - Mobilt BankId")}),t.find("#log-in-submit").on("click",function(){ga("send","event","A/B","SALDO","Logga in - Lösenord")}),t.find(".login-support-password-link").on("click",function(){ga("send","event","A/B","SALDO","Glömt lösenord")}),t.find(".create-account-link").on("click",function(){ga("send","event","A/B","SALDO","Skapa konto - Lösenord")}),window.clearTimeout(d),u.resolve()}else d=window.setTimeout(e,0)},r=window.setTimeout(t,10),c=window.setTimeout(i,10),s=window.setTimeout(a,10),d=window.setTimeout(o,10),l=n.Deferred(),p=n.Deferred(),m=n.Deferred(),u=n.Deferred();n.when(l,p,m,u).done(function(){e.hideLoader()})}n(".cro-iframe-container iframe").contents().find("form").on("submit",function(t){n(this).find("input.error").length||e.showLoader()}),n(".cro-iframe-container iframe").contents().find("#submit-login-mobile-bank-id").on("click",function(){n(this).find("input.error").length||(e.buttonHandlerPollTimeout=setTimeout(e.addButtonHandlerPoll.bind(e),1e3))}),n(".cro-iframe-container iframe").contents().find('a[href*="www.ica.se"]').each(function(){n(this).attr("href",n(this).attr("href").replace("http://","https://"))}).click(function(e){window.location.href=n(this).attr("href"),e.preventDefault()})})},50)}};t.addStyles(),n(document).ready(function(){t.manipulateDom(),ICA.icaCallbacks.initUnslider()})}(jQuery)}]);